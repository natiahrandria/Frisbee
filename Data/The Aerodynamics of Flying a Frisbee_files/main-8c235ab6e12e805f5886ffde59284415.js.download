function check_for_queryParams(e){return(""!=e.search?e.search:"")&&e.search.match(/adtype=([^&]*)/)?e.search.match(/adtype=([^&]*)/)[1].replace(/[0-9]|%/g,""):""}function plyrSetup(){"undefined"!=typeof plyr&&plyr.setup({html:["<div class='player-controls'>","<span class='player-controls-left'>","<button class='play-button' type='button' data-player='play'>","<svg focusable='false' aria-hidden='true'><use xlink:href='#icon-play'></use></svg>","<span class='sr-only'>Play</span>","</button>","<button class='pause-button' type='button' data-player='pause'>","<svg><use xlink:href='#icon-pause'></use></svg>","<span class='sr-only'>Pause</span>","</button>","<span tabindex='0' role='button' aria-label='volume' aria-pressed='false' class='volume-controls'>","<input aria-label='mute' class='inverted sr-only' id='mute{id}' type='checkbox' data-player='mute'>","<label id='mute{id}' for='mute{id}'>","<svg class='icon-muted'><use xlink:href='#icon-muted'></use></svg>","<svg focusable='false' aria-hidden='true' class='icon-volume'><use xlink:href='#icon-volume'></use></svg>","<span class='sr-only'>Toggle Mute</span>","</label>","<label for='volume{id}' class='sr-only'>Volume</label>","<span id='tip1' role='tooltip' class='volume-controls-tooltip'>","<input id='volume{id}' class='player-volume' type='range' min='0' max='10' value='5' data-player='volume' aria-describedby='tip1'>","</span>","</span>","<span class='player-time'>","<span class='sr-only'>Current time</span>","<span class='player-current-time'>00:00</span>","</span>","</span>","<div class='player-progress-container'>","<div class='player-progress-container-inner'>","<div class='player-progress'>","<label for='seek{id}' class='sr-only'>Seek</label>","<input id='seek{id}' class='player-progress-seek' type='range' min='0' max='100' step='0.5' value='0' data-player='seek'>","<progress class='player-progress-played' max='100' value='0'>","<span>0</span>% played","</progress>","<progress class='player-progress-buffer' max='100' value='0'>","<span>0</span>% buffered","</progress>","</div>","</div>","</div>","<span class='player-controls-right'>","<span class='player-time'>","<span class='sr-only'>Current time</span>","<span><span class='player-current-time'>00:00</span> /</span>","</span>","<span class='player-time player-time--total'>","<span class='sr-only'>Duration</span>","<span class='player-duration'>00:00</span>","</span>","<input class='sr-only' id='captions{id}' type='checkbox' data-player='captions'>","<label class='player-captions-label' for='captions{id}'>","<svg class='icon-captions-on'><use xlink:href='#icon-captions-on'></use></svg>","<svg class='icon-captions-off'><use xlink:href='#icon-captions-off'></use></svg>","<span class='sr-only'>Toggle Captions</span>","</label>","<span class='volume-controls'>","<input class='inverted sr-only' id='mute{id}' type='checkbox' data-player='mute'>","<label id='mute{id}' for='mute{id}'>","<svg class='icon-muted'><use xlink:href='#icon-muted'></use></svg>","<svg class='icon-volume'><use xlink:href='#icon-volume'></use></svg>","<span class='sr-only'>Toggle Mute</span>","</label>","<label for='volume{id}' class='sr-only'>Volume</label>","<span class='volume-controls-tooltip'>","<input id='volume{id}' class='player-volume' type='range' min='0' max='10' value='5' data-player='volume'>","</span>","</span>","<button class='player-fullscreen-button' type='button' data-player='fullscreen'>","<svg class='icon-exit-fullscreen'><use xlink:href='#icon-exit-fullscreen'></use></svg>","<svg><use xlink:href='#icon-enter-fullscreen'></use></svg>","<span class='sr-only'>Toggle Fullscreen</span>","</button>","</span>","</div>"].join("\n")})}function plyrSetupModule(){"undefined"!=typeof plyr&&plyr.setup({html:["<div class='player-controls player-controls__lt-module'>","<span class='player-controls-left'>","<button class='play-button' type='button' data-player='play'>","<svg><use xlink:href='#icon-play'></use></svg>","<span class='sr-only'>Play</span>","</button>","<button class='pause-button' type='button' data-player='pause'>","<svg><use xlink:href='#icon-pause'></use></svg>","<span class='sr-only'>Pause</span>","</button>","<span class='volume-controls'>","<input class='inverted sr-only' id='mute{id}' type='checkbox' data-player='mute'>","<label id='mute{id}' for='mute{id}'>","<svg class='icon-muted'><use xlink:href='#icon-muted'></use></svg>","<svg class='icon-volume'><use xlink:href='#icon-volume'></use></svg>","<span class='sr-only'>Toggle Mute</span>","</label>","<label for='volume{id}' class='sr-only'>Volume</label>","<span class='volume-controls-tooltip'>","<input id='volume{id}' class='player-volume' type='range' min='0' max='10' value='5' data-player='volume'>","</span>","</span>","<span class='player-time'>","<span class='sr-only'>Current time</span>","<span class='player-current-time'>00:00</span>","</span>","</span>","<div class='player-progress-container'>","<div class='player-progress-container-inner'>","<div class='player-progress'>","<label for='seek{id}' class='sr-only'>Seek</label>","<input id='seek{id}' class='player-progress-seek' type='range' min='0' max='100' step='0.5' value='0' data-player='seek'>","<progress class='player-progress-played' max='100' value='0'>","<span>0</span>% played","</progress>","<progress class='player-progress-buffer' max='100' value='0'>","<span>0</span>% buffered","</progress>","</div>","</div>","</div>","<span class='player-controls-right'>","<span class='player-time'>","<span class='sr-only'>Current time</span>","<span><span class='player-current-time'>00:00</span> /</span>","</span>","<span class='player-time player-time--total'>","<span class='sr-only'>Duration</span>","<span class='player-duration'>00:00</span>","</span>","<input class='sr-only' id='captions{id}' type='checkbox' data-player='captions'>","<label class='player-captions-label' for='captions{id}'>","<svg class='icon-captions-on'><use xlink:href='#icon-captions-on'></use></svg>","<svg class='icon-captions-off'><use xlink:href='#icon-captions-off'></use></svg>","<span class='sr-only'>Toggle Captions</span>","</label>","<span class='volume-controls'>","<input class='inverted sr-only' id='mute{id}' type='checkbox' data-player='mute'>","<label id='mute{id}' for='mute{id}'>","<svg class='icon-muted'><use xlink:href='#icon-muted'></use></svg>","<svg class='icon-volume'><use xlink:href='#icon-volume'></use></svg>","<span class='sr-only'>Toggle Mute</span>","</label>","<label for='volume{id}' class='sr-only'>Volume</label>","<span class='volume-controls-tooltip'>","<input id='volume{id}' class='player-volume' type='range' min='0' max='10' value='5' data-player='volume'>","</span>","</span>","<button class='player-fullscreen-button' type='button' data-player='fullscreen'>","<svg class='icon-exit-fullscreen'><use xlink:href='#icon-exit-fullscreen'></use></svg>","<svg><use xlink:href='#icon-enter-fullscreen'></use></svg>","<span class='sr-only'>Toggle Fullscreen</span>","</button>","</span>","</div>"].join("\n")})}function plyrRender(e){window.innerWidth>767&&!1===isRendered?(e.plyr.restore(),isRendered=!0):window.innerWidth<=767&&!0===isRendered&&(e.plyr.destroy(),isRendered=!1)}function debounce(e,t,n){var i;return function(){var o=this,a=arguments,r=function(){i=null,n||e.apply(o,a)},s=n&&!i;clearTimeout(i),i=setTimeout(r,t),s&&e.apply(o,a)}}function __scrollTo(e,t,n){if(!(n<0)){var i=t-e.scrollTop,o=i/n*10;setTimeout(function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==t&&__scrollTo(e,t,n-10)},10)}}!function(e,t,n){function i(e,t){return typeof e===t}function o(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function a(e,t){return!!~(""+e).indexOf(t)}function r(e,t){return function(){return e.apply(t,arguments)}}function s(e,t,n){var o;for(var a in e)if(e[a]in t)return!1===n?e[a]:(o=t[e[a]],i(o,"function")?r(o,n||t):o);return!1}function l(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function c(){var e=t.body;return e||(e=_("body"),e.fake=!0),e}function u(e,t,n,i){var o,a,r,s,l="modernizr",u=_("div"),d=c();if(parseInt(n,10))for(;n--;)r=_("div"),r.id=i?i[n]:l+(n+1),u.appendChild(r);return o=["&#173;",'<style id="s',l,'">',e,"</style>"].join(""),u.id=l,(d.fake?d:u).innerHTML+=o,d.appendChild(u),d.fake&&(d.style.background="",d.style.overflow="hidden",s=b.style.overflow,b.style.overflow="hidden",b.appendChild(d)),a=t(u,e),d.fake?(d.parentNode.removeChild(d),b.style.overflow=s,b.offsetHeight):u.parentNode.removeChild(u),!!a}function d(t,i){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(l(t[o]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];o--;)a.push("("+l(t[o])+":"+i+")");return a=a.join(" or "),u("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function p(e,t,r,s){function l(){u&&(delete x.style,delete x.modElem)}if(s=!i(s,"undefined")&&s,!i(r,"undefined")){var c=d(e,r);if(!i(c,"undefined"))return c}var u,p,f,m,v;for(x.style||(u=!0,x.modElem=_("modernizr"),x.style=x.modElem.style),f=e.length,p=0;p<f;p++)if(m=e[p],v=x.style[m],a(m,"-")&&(m=o(m)),x.style[m]!==n){if(s||i(r,"undefined"))return l(),"pfx"!=t||m;try{x.style[m]=r}catch(e){}if(x.style[m]!=v)return l(),"pfx"!=t||m}return l(),!1}function f(e,t,n,o,a){var r=e.charAt(0).toUpperCase()+e.slice(1),l=(e+" "+C.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?p(l,t,o,a):(l=(e+" "+k.join(r+" ")+r).split(" "),s(l,t,n))}function m(e,t,i){return f(e,n,n,t,i)}var v=[],g=[],h={_version:"3.0.0-alpha.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){g.push({name:e,fn:t,options:n})},addAsyncTest:function(e){g.push({name:null,fn:e})}},y=function(){};y.prototype=h,y=new y;var b=t.documentElement,w=h._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];h._prefixes=w;var _=function(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):t.createElement.apply(t,arguments)};y.addTest("cssgradients",function(){var e="background-image:",t=e+w.join("linear-gradient(left top,#9f9, white);"+e).slice(0,-e.length);y._config.usePrefixes&&(t+=e+"-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));");var n=_("div"),i=n.style;return i.cssText=t,(""+i.backgroundImage).indexOf("gradient")>-1}),y.addTest("csspointerevents",function(){var e=_("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents});var S="Moz O ms Webkit",C=h._config.usePrefixes?S.split(" "):[];h._cssomPrefixes=C;var A=function(t){var i,o=w.length,a=e.CSSRule;if(void 0===a)return n;if(!t)return!1;if(t=t.replace(/^@/,""),(i=t.replace(/-/g,"_").toUpperCase()+"_RULE")in a)return"@"+t;for(var r=0;r<o;r++){var s=w[r];if(s.toUpperCase()+"_"+i in a)return"@-"+s.toLowerCase()+"-"+t}return!1},k=h._config.usePrefixes?S.toLowerCase().split(" "):[];h._domPrefixes=k;var E={elem:_("modernizr")};y._q.push(function(){delete E.elem});var x={style:E.elem.style};y._q.unshift(function(){delete x.style}),h.testAllProps=f;var L=h.prefixed=function(e,t,n){return 0===e.indexOf("@")?A(e):(-1!=e.indexOf("-")&&(e=o(e)),t?f(e,t,n):f(e,"pfx"))};y.addTest("objectfit",!!L("objectFit"),{aliases:["object-fit"]}),h.testAllProps=m,y.addTest("csstransitions",m("transition","all",!0)),y.addTest("flexbox",m("flexBasis","1px",!0)),y.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&m("transform","scale(1)",!0)}),function(){var e,t,n,o,a,r,s;for(var l in g){if(e=[],t=g[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=i(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)r=e[a],s=r.split("."),1===s.length?y[s[0]]=o:(!y[s[0]]||y[s[0]]instanceof Boolean||(y[s[0]]=new Boolean(y[s[0]])),y[s[0]][s[1]]=o),v.push((o?"":"no-")+s.join("-"))}}(),function(e){var t=b.className,n=y._config.classPrefix||"";if(y._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}y._config.enableClasses&&(t+=" "+n+e.join(" "+n),b.className=t)}(v),delete h.addTest,delete h.addAsyncTest;for(var T=0;T<y._q.length;T++)y._q[T]();e.Modernizr=y}(window,document),A17.Behaviors={},A17.Helpers={},A17.Functions={},A17.media_query_in_use="large",A17.one_trust_active=!1,A17.LoadBehavior=function(e){void 0===e&&(e=document);for(var t=e.querySelectorAll("[data-behavior]"),n=-1;t[++n];)for(var i=t[n],o=i.getAttribute("data-behavior"),a=o.split(" "),r=0,s=a.length;r<s;r++){var l=A17.Behaviors[a[r]];void 0!==l&&l.call(i,i)}},A17.onReady=function(){A17.Helpers.font_observers(),A17.media_query_in_use=A17.Helpers.get_media_query_in_use(),A17.LoadBehavior();var e;$(window).on("resize",function(){clearTimeout(e),e=setTimeout(function(){A17.Helpers.resized()},250)})};var doc=document.documentElement;doc.setAttribute("data-useragent",navigator.userAgent),A17.browserSpec&&"html5"===A17.browserSpec&&document.addEventListener("DOMContentLoaded",function(){window.$=min$,A17.onReady()}),"undefined"==typeof console&&(console={log:function(){}}),function(e,t){var n=new XMLHttpRequest,i=e.body;n.open("GET","/public/resources/video-sprite-d754e839f15d9d8ca906afd96acbbb02.svg",!0),n.send(),n.onload=function(){var t=e.createElement("div");t.style.display="none",t.innerHTML=n.responseText,i.insertBefore(t,i.childNodes[0])}}(document),A17.loadScript=function(e,t){if("function"!=typeof t)throw new Error("Not a valid callback");var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.onload=t,n.src=("https:"===location.protocol?"https:":"http:")+e,document.getElementsByTagName("head")[0].appendChild(n)},function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n||e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./util/dom"),l=e("./util/throwIfMissing"),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=37,d=39,p="undefined"!=typeof document&&"animation"in document.createElement("div").style,f=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._sizeImgWrapperEl=function(){var e=t.imgWrapperEl.style;e.width=t.innerEl.clientWidth+"px",e.maxWidth=t.innerEl.clientWidth+"px",e.height=t.innerEl.clientHeight-t.captionEl.clientHeight+"px",e.maxHeight=t.innerEl.clientHeight-t.captionEl.clientHeight+"px"},this._handleKeydown=function(e){e.keyCode==u?t.showPrevious():e.keyCode==d&&t.showNext()},this.showNext=function(){t.settings._gallery&&(t.currentTrigger=t.settings._gallery.nextTrigger(t.currentTrigger),t._updateImgSrc(),t._updateCaption(),t._sizeImgWrapperEl())},this.showPrevious=function(){t.settings._gallery&&(t.currentTrigger=t.settings._gallery.previousTrigger(t.currentTrigger),t._updateImgSrc(),t._updateCaption(),t._sizeImgWrapperEl())},this._completeOpen=function(){t.el.removeEventListener("animationend",t._completeOpen,!1),(0,s.removeClasses)(t.el,t.openingClasses)},this._completeClose=function(){t.el.removeEventListener("animationend",t._completeClose,!1),(0,s.removeClasses)(t.el,t.openClasses),(0,s.removeClasses)(t.el,t.closingClasses)};var o=n.namespace,a=void 0===o?null:o,r=n.parentEl,l=void 0===r?(0,c.default)():r,p=n.triggerEl,f=void 0===p?(0,c.default)():p,m=n.sourceAttribute,v=void 0===m?(0,c.default)():m,g=n.caption,h=void 0===g?null:g,y=n.includeImgixJSClass,b=void 0!==y&&y,w=n._gallery,_=void 0===w?null:w,S=n._arrowNavigation,C=void 0===S?null:S;if(this.settings={namespace:a,parentEl:l,triggerEl:f,sourceAttribute:v,caption:h,includeImgixJSClass:b,_gallery:_,_arrowNavigation:C},!(0,s.isDOMElement)(this.settings.parentEl))throw new TypeError("`new Lightbox` requires a DOM element passed as `parentEl`.");this.currentTrigger=this.settings.triggerEl,this.openClasses=this._buildClasses("open"),this.openingClasses=this._buildClasses("opening"),this.closingClasses=this._buildClasses("closing"),this.elementBuilt=!1}return r(e,[{key:"_buildClasses",value:function(e){var t=["lum-"+e],n=this.settings.namespace;return n&&t.push(n+"-"+e),t}},{key:"_buildElement",value:function(){this.el=document.createElement("div"),(0,s.addClasses)(this.el,this._buildClasses("lightbox")),this.innerEl=document.createElement("div"),(0,s.addClasses)(this.innerEl,this._buildClasses("lightbox-inner")),this.el.appendChild(this.innerEl);var e=document.createElement("div");(0,s.addClasses)(e,this._buildClasses("lightbox-loader")),this.innerEl.appendChild(e),this.imgWrapperEl=document.createElement("div"),(0,s.addClasses)(this.imgWrapperEl,this._buildClasses("lightbox-image-wrapper")),this.innerEl.appendChild(this.imgWrapperEl);var t=document.createElement("span");(0,s.addClasses)(t,this._buildClasses("lightbox-position-helper")),this.imgWrapperEl.appendChild(t),this.imgEl=document.createElement("img"),(0,s.addClasses)(this.imgEl,this._buildClasses("img")),t.appendChild(this.imgEl),this.captionEl=document.createElement("p"),(0,s.addClasses)(this.captionEl,this._buildClasses("lightbox-caption")),t.appendChild(this.captionEl),this.settings._gallery&&this._setUpGalleryElements(),this.settings.parentEl.appendChild(this.el),this._updateImgSrc(),this._updateCaption(),this.settings.includeImgixJSClass&&this.imgEl.classList.add("imgix-fluid")}},{key:"_setUpGalleryElements",value:function(){this._buildGalleryButton("previous",this.showPrevious),this._buildGalleryButton("next",this.showNext)}},{key:"_buildGalleryButton",value:function(e,t){var n=document.createElement("button");this[e+"Button"]=n,n.innerText=e,(0,s.addClasses)(n,this._buildClasses(e+"-button")),(0,s.addClasses)(n,this._buildClasses("gallery-button")),this.innerEl.appendChild(n),n.addEventListener("click",function(e){e.stopPropagation(),t()},!1)}},{key:"_updateCaption",value:function(){var e=a(this.settings.caption),t="";"string"===e?t=this.settings.caption:"function"===e&&(t=this.settings.caption(this.currentTrigger)),this.captionEl.innerHTML=t}},{key:"_updateImgSrc",value:function(){var e=this,t=this.currentTrigger.getAttribute(this.settings.sourceAttribute);if(!t)throw new Error("No image URL was found in the "+this.settings.sourceAttribute+" attribute of the trigger.");var n=this._buildClasses("loading");(0,s.addClasses)(this.el,n),this.imgEl.onload=function(){(0,s.removeClasses)(e.el,n)},this.imgEl.setAttribute("src",t)}},{key:"open",value:function(){this.elementBuilt||(this._buildElement(),this.elementBuilt=!0),this.currentTrigger=this.settings.triggerEl,this._updateImgSrc(),this._updateCaption(),(0,s.addClasses)(this.el,this.openClasses),this._sizeImgWrapperEl(),window.addEventListener("resize",this._sizeImgWrapperEl,!1),this.settings._arrowNavigation&&window.addEventListener("keydown",this._handleKeydown,!1),p&&(this.el.addEventListener("animationend",this._completeOpen,!1),(0,s.addClasses)(this.el,this.openingClasses))}},{key:"close",value:function(){window.removeEventListener("resize",this._sizeImgWrapperEl,!1),this.settings._arrowNavigation&&window.removeEventListener("keydown",this._handleKeydown,!1),p?(this.el.addEventListener("animationend",this._completeClose,!1),(0,s.addClasses)(this.el,this.closingClasses)):(0,s.removeClasses)(this.el,this.openClasses)}},{key:"destroy",value:function(){this.el&&this.settings.parentEl.removeChild(this.el)}}]),e}();n.default=f},{"./util/dom":6,"./util/throwIfMissing":7}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,r,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./util/dom"),c=e("./injectBaseStylesheet"),u=i(c),d=e("./Lightbox"),p=i(d);t.exports=(a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),r.call(this),this.isOpen=!1,this.trigger=t,!(0,l.isDOMElement)(this.trigger))throw new TypeError("`new Luminous` requires a DOM element as its first argument.");var i=n.namespace,a=void 0===i?null:i,s=n.sourceAttribute,c=void 0===s?"href":s,d=n.caption,p=void 0===d?null:d,f=n.openTrigger,m=void 0===f?"click":f,v=n.closeTrigger,g=void 0===v?"click":v,h=n.closeWithEscape,y=void 0===h||h,b=n.closeOnScroll,w=void 0!==b&&b,_=n.appendToSelector,S=void 0===_?"body":_,C=n.onOpen,A=void 0===C?null:C,k=n.onClose,E=void 0===k?null:k,x=n.includeImgixJSClass,L=void 0!==x&&x,T=n.injectBaseStyles,q=void 0===T||T,$=n._gallery,M=void 0===$?null:$,N=n._arrowNavigation,H=void 0===N?null:N;this.settings={namespace:a,sourceAttribute:c,caption:p,openTrigger:m,closeTrigger:g,closeWithEscape:y,closeOnScroll:w,appendToSelector:S,onOpen:A,onClose:E,includeImgixJSClass:L,injectBaseStyles:q,_gallery:M,_arrowNavigation:H},this.settings.injectBaseStyles&&(0,u.default)(),this._buildLightbox(),this._bindEvents()}return s(e,[{key:"_buildLightbox",value:function(){this.lightbox=new p.default({namespace:this.settings.namespace,parentEl:document.querySelector(this.settings.appendToSelector),triggerEl:this.trigger,sourceAttribute:this.settings.sourceAttribute,caption:this.settings.caption,includeImgixJSClass:this.settings.includeImgixJSClass,_gallery:this.settings._gallery,_arrowNavigation:this.settings._arrowNavigation})}},{key:"_bindEvents",value:function(){this.trigger.addEventListener(this.settings.openTrigger,this.open,!1),this.settings.closeWithEscape&&window.addEventListener("keyup",this._handleKeyup,!1)}},{key:"_bindCloseEvent",value:function(){this.lightbox.el.addEventListener(this.settings.closeTrigger,this.close,!1)}},{key:"_unbindEvents",value:function(){this.trigger.removeEventListener(this.settings.openTrigger,this.open,!1),this.lightbox.el&&this.lightbox.el.removeEventListener(this.settings.closeTrigger,this.close,!1),this.settings.closeWithEscape&&window.removeEventListener("keyup",this._handleKeyup,!1)}}]),e}(),r=function(){var e=this;this.VERSION="1.0.1",this.open=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault();var n=e.lightbox.elementBuilt;e.lightbox.open(),n||e._bindCloseEvent(),e.settings.closeOnScroll&&window.addEventListener("scroll",e.close,!1);var i=e.settings.onOpen;i&&"function"==typeof i&&i(),e.isOpen=!0},this.close=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault(),e.settings.closeOnScroll&&window.removeEventListener("scroll",e.close,!1),e.lightbox.close();var n=e.settings.onClose;n&&"function"==typeof n&&n(),e.isOpen=!1},this._handleKeyup=function(t){e.isOpen&&27===t.keyCode&&e.close()},this.destroy=function(){e._unbindEvents(),e.lightbox.destroy()}},a)},{"./Lightbox":1,"./injectBaseStylesheet":4,"./util/dom":6}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(e("./util/dom"),e("./Luminous")),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.boundMethod=function(){};var a=n.arrowNavigation,r=void 0===a||a;this.settings={arrowNavigation:r},this.triggers=t,this.luminousOpts=o,this.luminousOpts._gallery=this,this.luminousOpts._arrowNavigation=this.settings.arrowNavigation,this._constructLuminousInstances()}return o(e,[{key:"_constructLuminousInstances",value:function(){this.luminousInstances=[];for(var e=this.triggers.length,t=0;t<e;t++){var n=this.triggers[t],i=new r.default(n,this.luminousOpts);this.luminousInstances.push(i)}}},{key:"nextTrigger",value:function(e){var t=Array.prototype.indexOf.call(this.triggers,e)+1;return t>=this.triggers.length?this.triggers[0]:this.triggers[t]}},{key:"previousTrigger",value:function(e){var t=Array.prototype.indexOf.call(this.triggers,e)-1;return t<0?this.triggers[this.triggers.length-1]:this.triggers[t]}},{key:"destroy",value:function(){}}]),e}();n.default=s},{"./Luminous":2,"./util/dom":6}],4:[function(e,t,n){"use strict";function i(){if(!document.querySelector(".lum-base-styles")){var e=document.createElement("style");e.type="text/css",e.classList.add("lum-base-styles"),e.appendChild(document.createTextNode(o));var t=document.head;t.insertBefore(e,t.firstChild)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o="\n@keyframes lum-noop {\n  0% { zoom: 1; }\n}\n\n.lum-lightbox {\n  position: fixed;\n  display: none;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.lum-lightbox.lum-open {\n  display: block;\n}\n\n.lum-lightbox.lum-opening, .lum-lightbox.lum-closing {\n  animation: lum-noop 1ms;\n}\n\n.lum-lightbox-inner {\n  position: absolute;\n  top: 0%;\n  right: 0%;\n  bottom: 0%;\n  left: 0%;\n\n  overflow: hidden;\n}\n\n.lum-lightbox-loader {\n  display: none;\n}\n\n.lum-lightbox-inner img {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.lum-lightbox-image-wrapper {\n  vertical-align: middle;\n  display: table-cell;\n  text-align: center;\n}\n"},{}],5:[function(e,t,n){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=e("./Luminous"),o=n(i),a=e("./LuminousGallery"),r=n(a);t.Luminous=o.default,t.LuminousGallery=r.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Luminous":2,"./LuminousGallery":3}],6:[function(e,t,n){"use strict";function i(e){return l?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":s(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function o(e,t){t.forEach(function(t){e.classList.add(t)})}function a(e,t){t.forEach(function(t){e.classList.remove(t)})}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)};n.isDOMElement=i,n.addClasses=o,n.removeClasses=a;var l="object"===("undefined"==typeof HTMLElement?"undefined":s(HTMLElement))},{}],7:[function(e,t,n){"use strict";function i(){throw new Error("Missing parameter")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{}]},{},[5]),A17.Behaviors.accordion=function(e){var t=e.querySelectorAll("[data-accordion-title]"),n=e.querySelectorAll("[data-accordion-close]");$.each(t,function(e){e.addEventListener("click",function(t){t.preventDefault();var n=$(e).attr("data-only");if(n){if(A17.Helpers.get_media_query_in_use()!==n)return!1}A17.Helpers.hasClass(e.parentNode,"open")?$(e.parentNode).removeClass("open"):$(e.parentNode).addClass("open")})}),$.each(n,function(e){e.addEventListener("click",function(t){t.preventDefault(),$($("#"+$(e).attr("data-accordion-title-id"))[0].parentNode).removeClass("open")})}),window.location.hash.length&&$(window.location.hash+"-accordion").addClass("open"),"#transcripts-body"===window.location.hash&&(e.childNodes[0].classList.add("open"),A17.Helpers.scroll.To("transcripts-body"),document.getElementById("transcripts-body").focus())},A17.Behaviors.advanced_search=function(e){function t(e){var t=document.querySelector(".advanced-search__container"),n=-1===window.location.search.indexOf("advancedsearch=true"),i=document.querySelector("#filter-sort-form .util-list__item:nth-of-type(2)"),o=document.querySelector("#filter-sort-form .util-list__item:nth-of-type(3)");e.target.matches(".advanced-search-toggle")&&(e.preventDefault(),t.classList.toggle("advanced-search__container--open"),n&&(t.classList.contains("advanced-search__container--open"),i.classList.toggle("hide"),o.classList.toggle("hide")))}function n(e){Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this,n=this;if(!document.documentElement.contains(t))return null;do{if(n.matches(e))return n;n=n.parentElement}while(null!==n);return null}),"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),e.target.matches("#advanced-search [name=pubdate-radio]")&&s.forEach(function(t){t===e.target?t.closest(".module-block").querySelectorAll("select").forEach(function(e){e.removeAttribute("disabled")}):t.closest(".module-block").querySelectorAll("select").forEach(function(e){e.setAttribute("disabled","")})})}function i(e){var t,n,i,o,a,l,c,u,d=r.querySelector("#advanced-search input[name=startdate]"),p=r.querySelector("#advanced-search input[name=enddate]"),f=r.querySelector("#advanced-search input[name=days]"),m=r.querySelector("#month-select-2"),v=r.querySelector("#year-select-2"),g=r.querySelector("#pubdate-block-time + label + div select");s.forEach(function(s){!0===s.checked&&"pubdate-specific"===s.id?(t=r.querySelector("#month-select"),n=r.querySelector("#year-select"),i=t.value,o=n.value,e.target===t?i=t.value:e.target===n&&(o=n.value),d.value=o+"-"+i+"-01",a=new Date(new Date(o,i,1)-1),p.value=o+"-"+i+"-"+a.getDate()):!0===s.checked&&"pubdate-range"===s.id?(t=r.querySelector("#month-select-1"),n=r.querySelector("#year-select-1"),i=t.value,o=n.value,l=m.value,c=v.value,e.target===t?i=t.value:e.target===n?o=n.value:e.target===m?l=m.value:e.target===v&&(c=v.value),d.value=o+"-"+i+"-01",a=new Date(new Date(c,l,1)-1),p.value=c+"-"+l+"-"+a.getDate()):!0===s.checked&&"pubdate-block-time"===s.id&&(u=g.value,e.target===g&&(u=g.value),f.value=u)})}function o(e){e.target.matches("#advanced-search")&&(e.preventDefault(),r.advancedsearch.value=!0,Object.keys(r.elements).forEach(function(e){""!==r.elements[e].value&&null!==r.elements[e].value&&"pubdate-radio"!==r.elements[e].name||"q"===r.elements[e].name||(r.elements[e].disabled=!0)}),r.submit())}function a(e){l.length&&e.target.matches(".search-results .current-filter-group__item .icon__close--filter")&&(l.forEach(function(t){if(e.target===t){var n=t.getAttribute("data-input"),i=t.getAttribute("data-input-2")
;Object.keys(r.elements).forEach(function(e){r.elements[e].name===n&&(r.elements[e].value=null)}),i&&Object.keys(r.elements).forEach(function(e){r.elements[e].name===i&&(r.elements[e].value=null)})}}),Object.keys(r.elements).forEach(function(e){""!==r.elements[e].value&&null!==r.elements[e].value||"q"===r.elements[e].name||(1===l.length&&(r.advancedsearch.disabled=!0),r.elements[e].disabled=!0)}),r.submit())}var r=document.querySelector("#advanced-search"),s=r.querySelectorAll("[name=pubdate-radio]"),l=document.querySelectorAll(".search-results .current-filter-group__item .icon__close--filter");e&&(window.addEventListener("click",t,!1),window.addEventListener("change",n,!1),window.addEventListener("click",a,!1),window.addEventListener("change",i,!1),window.addEventListener("submit",o,!1))},A17.Behaviors.article_comments=function(e){Mura(function(){Mura.processDisplayObject(Mura('div[data-object="comments"]'),!1).then(function(){var e=document.getElementById("comments-toggle");if(null!=e){e.addEventListener("click",function(e){A17.Helpers.comments()});var t=document.querySelectorAll(".comments-count-bubble");$.each(t,function(t){$(t).on("click",function(n){var i=arguments.callee;e.click(),t.removeEventListener("click",i)})});var n=function(){var t=window.location.hash;if(t.length>0&&t.indexOf("comment-")>0){var n=t.replace("#comment-","");if(n.indexOf("-")>0){var i=n.substring(0,n.indexOf("-"));n.replace(i+"-","");$("#comments").addClass("is-active"),$(e).addClass("is-active"),A17.Helpers.comments()}}};if(window.attachEvent)window.attachEvent("onload",n);else if(window.onload){var i=window.onload,o=function(){i(),n()};window.onload=o}else window.onload=n}})})},A17.Behaviors.article_progress=function(e){function t(){o=i;var e=o+window.innerHeight,t=window.innerHeight;if(c)var n=c.offsetHeight+c.offsetTop+c.offsetHeight;else if(null!==l)var n=l.offsetHeight+l.offsetTop+l.offsetHeight;var u=(e-t)/(n-t)*100;u<0?u=0:u>100&&(u=100),u!==r&&(a.style.width=u+"%",r=u),e>n+5&&!s?(a.style.display="none",s=!0):e<=n+5&&s&&(a.style.display="block",s=!1)}function n(){i=document.documentElement.scrollTop||document.body.scrollTop}var i,o=0,a=e.querySelector(".article-progress__bar"),r=0,s=!1,l=document.querySelector("[data-footer-banner]"),c=document.querySelector("[data-blog-next-previous]");!function e(){requestAnimFrame(e),o===i&&void 0!==i||t()}(),$(window).on("scroll",function(){n()}),$(window).on("resize",function(){n(),t()})},A17.Behaviors.assign_query_params=function(e){var t=e.getAttribute("data-product-title"),n=e.getAttribute("data-sigle-item"),i=document.querySelectorAll(".shopping-cart-redirect");e.onclick=function(){if(null===n||void 0===n)for(var e=0;e<i.length;e++)i[e].value="/store/shopping-cart/?bannerTitle="+t;else{document.querySelector(".shopping-cart-redirect").action="/store/shopping-cart/?bannerTitle="+t}}},A17.Behaviors.blog_slider=function(e){function t(){a=e.querySelector("[data-slider-inner]"),r=e.querySelector("[data-slider-paginator]")}function n(n){t(),l=n,slides=a.querySelectorAll("li"),$.each(slides,function(e){e.style.width=l+"px"}),s=new a17_slider({sliderContainer:e,sliderInner:a,paginator:r,slideAmount:l,keyControls:!1,automate:!1,centered:!0})}function i(){var t=e.offsetWidth;t!=l&&(s.destroy(),n(t))}function o(){"undefined"!=typeof timer&&clearTimeout(timer),timer=setTimeout(function(){i()},250)}if("html5"===A17.browserSpec){var a,r,s,l;$(window).on("resize",o),n(e.offsetWidth)}},A17.Behaviors.browser_update=function(e){null==A17.Helpers.cookie_read("acceptCPol")&&($("#cookie-policy").removeClass("browser-update--hide"),$("#cookie-policy").addClass("browser-update"));var t=e.querySelector("[data-browser-update-close]");$(t).on("click",function(){$(e).addClass("browser-update--hide")})},A17.Behaviors.btn_dropdown=function(e){var t=null;$(e).on("mouseenter",function(){$(e).addClass("is-animating"),null!==t&&clearTimeout(t)}).on("mouseleave",function(){t=setTimeout(function(){$(e).removeClass("is-animating")},200)})},A17.Behaviors.cart_banner_product_name=function(e){function t(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var n=e.getAttribute("data-cartItem-count"),i=null;null!==t("bannerTitle")&&""!==t("bannerTitle")&&(i="15"===n?'<div class="shopping-cart__header-body flex__grid"><p id="banner-title"><span class="i-circle error"><i class="icon__error-circle--white"></i></span>You have added the maximum amount of items to your cart</p><a href="/checkout/" class="btn cart--button actions-btn__proceed" data-track="click" data-track-category="checkout" data-track-label="cart-checkout-step1-but" data-track-action="add-to-cart">Proceed to Checkout</a></div>':'<div class="shopping-cart__header-body flex__grid"><p id="banner-title"><span class="i-circle check"><i class="icon__check--circle-white"></i></span>{{title}} has been added to your cart</p><a href="/checkout/" class="btn cart--button actions-btn__proceed" data-track="click" data-track-category="checkout" data-track-label="cart-checkout-step1-but" data-track-action="add-to-cart">Proceed to Checkout</a></div>',i=i.replace("{{title}}",t("bannerTitle")),e.innerHTML+=i)},A17.Behaviors.cart_description=function(e){var t=e.querySelector("[data-description-toggle-button]"),n=e.querySelector("[data-description-icon]"),i=e.querySelector("[data-description-toggle-section]");$(t).on("click",function(){A17.Helpers.hasClass(i,"opening")?($(i).removeClass("opening"),$(i).addClass("closing"),$(n).removeClass("close-icon"),$(n).addClass("open-icon")):($(n).removeClass("open-icon"),$(n).addClass("close-icon"),$(i).removeClass("closing"),$(i).addClass("opening"))})},A17.Behaviors.checkout_description=function(e){var t=e.querySelector("[data-description-toggle-button]"),n=e.querySelector("[data-description-toggle-section]");$(t).on("click",function(){A17.Helpers.hasClass(n,"opening")?($(n).removeClass("opening"),$(n).addClass("closing")):($(n).removeClass("closing"),$(n).addClass("opening"))})},A17.Behaviors.child_navs=function(e){var t=e.querySelectorAll("[data-child-navs-link]");$.each(t,function(e){e.addEventListener("click",function(n){if(n.preventDefault(),!(window.innerWidth>=1024))if(A17.Helpers.hasClass(e,"open")){var i=e.parentNode.querySelector(".child-nav");$(e).removeClass("open"),i.style.height=null}else $.each(t,function(t){var n=t.parentNode.querySelector(".child-nav");if(t===e){var i=n.querySelectorAll("li").length,o=30*i+25;$(t).addClass("open"),n.style.height=o+"px"}else $(t).removeClass("open"),n.style.height=null})})})},A17.Behaviors.click_trigger=function(e){var t=$(e);t.on("click",function(){var e=t.attr("data-event-name");t.trigger(e)})},A17.Behaviors.context_nav=function(e){var t=e.querySelectorAll("aside li"),n=e.querySelectorAll("section");$.each(t,function(e,i){$(e).on("click",function(){$.each(t,function(e){$(e).removeClass("current")}),$(t[i]).addClass("current"),$.each(n,function(e){$(e).removeClass("current")}),$(n[i]).addClass("current")})})},A17.Behaviors.cookie_policy=function(e){document.getElementById("cookie_policy_close").addEventListener("click",function(){null==A17.Helpers.cookie_read("acceptCPol")&&A17.Helpers.cookie_create("acceptCPol",!0,1e4)})},A17.Behaviors.copy_input=function(e){function t(t){if(t.target.dataset.inputCopy&&e.value.length>=0){var n=e.value;document.querySelector("#"+e.getAttribute("data-input-copy")+" [data-input-copy-target]").value=n}}window.addEventListener("input",t,!1)},A17.Behaviors.copy_link=function(e){var t=e.querySelector("[data-copy-link-input]"),n=e.querySelector("[data-copy-link-btn]"),i=n.querySelector(".icon");$(t).on("copy",function(){$(e).addClass("is-copied"),$(e).removeClass("is-active"),$(i).addClass("icon--subtle"),setTimeout(function(){$(e).removeClass("is-copied")},5e3)}),$(n).on("click",function(n){n.preventDefault(),A17.Helpers.toggleClass(e,"is-active"),A17.Helpers.toggleClass(i,"icon--subtle"),setTimeout(function(){"undefined"!=typeof jQuery&&A17.Helpers.hasClass(e,"is-active")&&(jQuery(t).focus(),setTimeout(function(){jQuery(t).select()},20))},20)})},A17.Behaviors.csrf_token_update=function(e){var t=e.querySelector("[name=csrf_token]"),n=e.querySelector("[name=csrf_token_expires]"),i=document.querySelector("#signin-click"),o=e.querySelector("[name=sRedirectURL]");i.addEventListener("click",function(){if(!t||!n)return!1;Mura.post(Mura.apiEndpoint+"?method=generateCSRFTokens",{context:"flyoutlogin",siteid:Mura.siteid}).then(function(e){t.value=e.data.csrf_token,n.value=e.data.csrf_token_expires,o&&Mura.post(Mura.apiEndpoint+"?method=findone",{entityname:"content",siteid:Mura.siteid,id:Mura.contentid}).then(function(e){o.value=e.data.url})})})},window.Krux||((Krux=function(){Krux.q.push(arguments)}).q=[]),function(){A17.loadScript("//cdn.krxd.net/controltag/Jn7TXKj3.js",function(){function e(e){var t="kxmacmillan_"+e,n=function(){try{return window.localStorage}catch(e){return null}}();if(n)return n[t]||"";if(navigator.cookieEnabled){var i=document.cookie.match(t+"=([^;]*)");return i&&unescape(i[1])||""}return""}Krux.user=e("user"),Krux.segments=e("segs")?e("segs").split(","):[];var t=function(){return"string"==typeof dataLayer.onetrustActiveGroups&&dataLayer.onetrustActiveGroups.length>0&&-1!==dataLayer.onetrustActiveGroups.indexOf(",4,")};Krux("consent:set",{dc:t,al:t,tg:t,cd:!1,sh:!1,re:!1},function(e,t){e&&console.error(e)})})}();var dfp={},googletag=window.googletag||{cmd:[]};A17.loadScript("//www.googletagservices.com/tag/js/gpt.js",function(){});var DFP_targeting={adtype:check_for_queryParams(window.location),type:dataLayer[0].content.category.contentType,subject:dataLayer[0].content.category.contentSubType1,category:dataLayer[0].content.attributes.subjects,kwrd:"Store"===dataLayer[0].content.category.contentType?"nointerstitial":dataLayer[0].content.attributes.keywords,logged:"logged out"==dataLayer[0].session.authentication.loginStatus?"n":"y",title:dataLayer[0].content.contentInfo.title.replace("&","and").replace("@","at").replace(/[\W_]+/g," ").trim(),doi:null!=dataLayer[0].content.article&&null!=dataLayer[0].content.article.doi?dataLayer[0].content.article.doi:"",user:[dataLayer[0].user[0].segment.commented,dataLayer[0].user[0].segment.subscriberMind,dataLayer[0].user[0].segment.subscriberSA,dataLayer[0].user[0].segment.customer]};dfp.inViewport=function(e){var t,n;return!(!e||1!==e.nodeType)&&(n=document.documentElement,!!(t=e.getBoundingClientRect())&&t.bottom>=0&&t.right>=0&&t.top-300<=n.clientHeight&&t.left<=n.clientWidth)},dfp.init=function(){var e=[];ad1=document.getElementById("div-gpt-ad-top-1-child"),null!==ad1&&e.push(ad1),ad2=document.getElementById("div-gpt-ad-interstitial-1-child"),null!==ad2&&e.push(ad2),googletag.cmd.push(function(){for(var t=0;t<e.length;t++){var n=e[t].getAttribute("data-dfp-adContainer");googletag.display(n)}})},dfp.targeting=DFP_targeting,dfp.get_screen_size=function(e){return e>1023?"desktop":e<=1023&&e>767?"tablet":"mobile"},dfp.screen_size=dfp.get_screen_size(window.innerWidth),dfp.targeting.screen_size=dfp.screen_size,window.addEventListener("resize",function(){var e=dfp.get_screen_size(window.innerWidth);e!=dfp.screen_size&&(dfp.screen_size=e,googletag.cmd.push(function(){googletag.pubads().refresh()}))});var gptadslots=[];dfp.adslots={};var adUnit1="/270604982/sciam",adUnit2="",adUnit3="",title=dataLayer[0].content.contentInfo.title.replace("&","and").replace("@","at").replace(/[\W_]+/g," ").trim().replace(/[ ]/g,"-");if(-1!=="arabic,espanol,blogs".indexOf(mura.siteid)&&(adUnit1=adUnit1+"/"+mura.siteid),"About Scientific American"==dataLayer[0].content.contentInfo.title)adUnit2="/about";else if(""!=dataLayer[0].content.category.subjectType)adUnit2="/"+dataLayer[0].content.category.subjectType.replace(/[ ]/g,"-"),""!=dataLayer[0].content.category.subjectSubType1&&(adUnit3="/"+dataLayer[0].content.category.subjectSubType1.replace("&","and").replace(",","").replace(/[ ]/g,"-"));else switch(dataLayer[0].content.category.contentType){case"Home":adUnit2="/home";break;case"BlogsHome":break;case"Search":adUnit2="/search";break;case"VideoSeries":adUnit2="/video";break;case"PodcastSeries":adUnit2="/podcasts/"+title;break;default:""!=dataLayer[0].content.contentInfo.title&&(adUnit2=["K-12","Higher Ed","Lifelong Learning","Careers","Citizen Science","Bring Science Home","SA at the Google Science Fair"].indexOf(dataLayer[0].content.contentInfo.title)>-1?"/education/"+title:"/"+title)}dfp.adUnit=adUnit1+adUnit2.toLowerCase()+adUnit3.toLowerCase(),dfp.top={sizes:"[320, 50]",name:"div-gpt-ad-top-",count:0},dfp.middle={sizes:"[320, 50]",name:"div-gpt-ad-middle-",count:0},dfp.right={sizes:"[300, 250]",name:"div-gpt-ad-right-",count:0},dfp.right2={sizes:"[300, 250]",name:"div-gpt-ad-right2-",count:0},dfp.slideshow={sizes:"[300, 250]",name:"div-gpt-ad-slideshow-",count:0},googletag.cmd.push(function(){dfp.top.mapping=googletag.sizeMapping().addSize([1,1],[320,50]).addSize([767,1],[728,90]).addSize([1023,1],[[728,90],[970,90]]).build(),dfp.middle.mapping=googletag.sizeMapping().addSize([1,1],[320,50]).addSize([767,1],[728,90]).addSize([1023,1],[[728,90],[970,90],[970,250]]).build(),dfp.right.mapping=googletag.sizeMapping().addSize([1023,1],["fluid",[300,250],[300,600]]).addSize([767,1],["fluid",[300,250],[300,600]]).addSize([1,1],["fluid",[300,250]]).build(),dfp.right2.mapping=googletag.sizeMapping().addSize([1023,1],["fluid",[300,250]]).addSize([767,1],["fluid",[300,250]]).addSize([1,1],["fluid",[300,250]]).build(),dfp.slideshow.mapping=googletag.sizeMapping().addSize([1023,1],[300,250]).addSize([767,1],[300,250]).addSize([1,1],[300,250]).build(),gptadslots[0]=googletag.defineSlot(dfp.adUnit,[300,50],"div-gpt-ad-top-1").defineSizeMapping(dfp.top.mapping).setTargeting("pos",["LB1"]).addService(googletag.pubads()),gptadslots[1]=googletag.defineOutOfPageSlot(dfp.adUnit,"div-gpt-ad-interstitial-1").addService(googletag.pubads()),googletag.pubads().setTargeting("adtype",dfp.targeting.adtype).setTargeting("type",dfp.targeting.type).setTargeting("subject",dfp.targeting.subject).setTargeting("category",dfp.targeting.category).setTargeting("title",dfp.targeting.title).setTargeting("kwrd",dfp.targeting.kwrd).setTargeting("logged",dfp.targeting.logged).setTargeting("doi",dfp.targeting.doi).setTargeting("user",dfp.targeting.user),googletag.pubads().setTargeting("ksg",Krux.segments),googletag.pubads().setTargeting("kuid",Krux.user),googletag.pubads().enableSingleRequest(),googletag.pubads().enableAsyncRendering(),googletag.enableServices()}),dfp.pushAds=function(e,t,n){dfp[e].count++;var i=dfp[e].name+dfp[e].count,o=document.createElement("div");o.id=i,document.getElementById(n).appendChild(o),""==t&&(t=("middle"==e?"LB2":e)+dfp[e].count),googletag.cmd.push(function(){gptadslots.push(googletag.defineSlot(dfp.adUnit,dfp[e].sizes,i).defineSizeMapping(dfp[e].mapping).setTargeting("pos",[t]).addService(googletag.pubads())),dfp.adslots[t]=googletag.display(i)})},dfp.loadAds=function(e,t,n,i){var o=!1;void 0===i&&(i=document.querySelector("#"+n)),dfp.inViewport(i)&&!o&&(o=!0,dfp.pushAds(e,t,n)),window.addEventListener("scroll",function(a){dfp.inViewport(i)&&!o&&(o=!0,dfp.pushAds(e,t,n))})},dfp.init(),A17.Behaviors.dfp=function(e){adName=e.getAttribute("data-dfp-adName"),isMobileOnly=null!=e.getAttribute("data-dfp-mobileonly"),isDesktopOnly=null!=e.getAttribute("data-dfp-desktoponly"),adContainer=e.getAttribute("data-dfp-adContainer"),positionName=e.getAttribute("data-dfp-positionName"),isMobileOnly||isDesktopOnly?(isMobileOnly&&"mobile"===dfp.screen_size||isDesktopOnly&&"desktop"===dfp.screen_size)&&dfp.loadAds(adName,positionName,adContainer,e):dfp.loadAds(adName,positionName,adContainer,e)},A17.Behaviors.dfp_article_rendering=function(e){function t(e,t){var n=[],i=void 0!==e.children[0]&&null!==e.children[0].querySelector(".mura-region-local")?e.children[0].querySelector(".mura-region-local").childNodes:null;if(null!==i)for(var o=0;o<i.length;o++)i[o].nodeName===t?n.push(i[o]):i[o].className===t&&n.push(i[o]);return n}var n=e.getAttribute("data-dfp-adword");!function(){for(var e=document.querySelector(".article-text"),i=t(e,"P"),o=0,a=0,r=2;r<i.length;r+=5)if(++o<=5){var s='<figure class="aside-banner aside-banner__article-bottom dfp-article-ad"><div class="dfp-article" id="dfp-right2-article-'+o+'"></div><figcaption class="aside-banner__label">'+n+"</figcaption></figure>";i[r].insertAdjacentHTML("afterend",s)}for(var l=0;l<t(e,"aside-banner aside-banner__article-bottom dfp-article-ad").length;l++){a++;var c=document.createElement("script");c.innerHTML='dfp.loadAds("right2","MPU'+(a+1)+'","dfp-right2-article-'+a+'")',t(e,"aside-banner aside-banner__article-bottom dfp-article-ad")[l].firstChild.appendChild(c)}}()},Mura(document).on("muraBeforeContentSave",function(){Mura(".dfp-article-ad").remove()}),A17.Behaviors.enable_hamburger=function(){function e(){d.forEach(function(e){document.querySelector(e).classList.remove("large-up-hide")}),c.classList.add("hide"),o.classList.remove("primary-nav"),o.classList.add("primary-nav--store"),a.classList.remove("search__container--open"),r.value=null,r.blur(),s.classList.remove("search__autocomplete-container--open"),l.innerHTML=null,"large"===A17.media_query_in_use&&u.classList.add("hide")}function t(){d.forEach(function(e){document.querySelector(e).classList.add("large-up-hide")}),c.classList.remove("hide"),o.classList.remove("primary-nav--store"),o.classList.add("primary-nav"),"large"===A17.media_query_in_use&&u.classList.remove("hide")}function n(){i.classList.contains("is-sticky")||i.classList.contains("is-end")?e():t()}var i=document.querySelector(".sticky-header"),o=document.querySelector(".primary-nav"),a=document.querySelector(".search__container"),r=document.querySelector(".search__input"),s=document.querySelector(".search__autocomplete-container"),l=document.querySelector(".search__autocomplete-results-list"),c=document.querySelector(".js-header__subscribe-btn"),u=document.querySelector(".header__search-btn"),d=[".header__menu-btn",".primary-nav__close-btn",".primary-nav__list--drawer-utils",".primary-nav__list--social",".primary-nav__bg"];"xlarge"!==A17.media_query_in_use&&"large"!==A17.media_query_in_use||window.addEventListener("scroll",debounce(n,0,!0))},A17.Behaviors.expired_promo_redirect=function(){if(location.search&&function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}("expired")){var e=document.querySelector("div.expired");$(e).removeClass("browser-update--hide"),$(e).addClass("browser-update")}},A17.Behaviors.filter_change=function(e){"undefined"!==sessionStorage&&$(e).on("change",function(){var t=e.querySelector("input"),n=t.name,i=t.dataset.filterPageContext,o=i+"."+n,a=i+".page";sessionStorage.setItem(o.toUpperCase(),encodeURIComponent(t.value)),sessionStorage.setItem(a.toUpperCase(),encodeURIComponent(1)),A17.Helpers.cookie_create(o.toUpperCase(),encodeURIComponent(t.value)),A17.Helpers.cookie_create(a.toUpperCase(),encodeURIComponent(1))})},A17.Behaviors.filter_remove=function(e){"undefined"!==sessionStorage&&$(e).on("click",function(){var t=e.dataset.filterPageContext,n=t+"."+e.href.split("=")[1],i=t+".page";sessionStorage.removeItem(n.toUpperCase()),sessionStorage.removeItem(i.toUpperCase()),A17.Helpers.cookie_delete(n.toUpperCase()),A17.Helpers.cookie_delete(i.toUpperCase())})},A17.Behaviors.footer_reveal=function(e){$(e).on("click",function(e){e.preventDefault(),$("#footer .grid__col").removeClass("medium-down-hide"),$("#footer .grid__col").addClass("medium-two"),$("[data-footer-reveal-parent]").addClass("hidden")})},A17.Behaviors.ga_sku_label_update=function(e){function t(t){var n=t.target;if("INPUT"===n.nodeName){var o=n.value,a=i.replace(/paywall-\w*/i,"paywall-"+o);e.setAttribute("data-track-label",a)}}var n=e.parentElement,i=e.getAttribute("data-track-label");n.addEventListener("click",t,!1)},A17.Behaviors.info_tooltip=function(e){var t=$(e),n=t.attr("data-tooltip-id");t.on("mouseenter",function(){$(".info-tooltip").removeClass("open"),$(".info-tooltip").removeClass("visible"),$('[data-behavior^="info_tooltip"]').removeClass("open");var i=$("#"+t.attr("data-tooltip-id")),o=i[0];i.addClass("open"),t.addClass("open"),setTimeout(function(){var t=e.getBoundingClientRect().left+document.body.scrollLeft,a=e.getBoundingClientRect().top+(document.documentElement.scrollTop||document.body.scrollTop),r=e.offsetWidth/2,s=-o.offsetHeight-25,l=document.querySelectorAll('.tooltip-outer[data-tooltip="'+n+'"]')[0];void 0===l&&(l=A17.Helpers.closest(e,function(e){return A17.Helpers.hasClass(e,"tooltip-outer")}));var c=l.getBoundingClientRect().left+document.body.scrollLeft,u=l.getBoundingClientRect().top+(document.documentElement.scrollTop||document.body.scrollTop),d=t+r-c,p=a+s-u;o.style.left=d+"px",o.style.top=p+"px",setTimeout(function(){i.addClass("visible")},20)},20)}).on("mouseleave",function(){$(".info-tooltip").removeClass("visible"),setTimeout(function(){$(".info-tooltip").removeClass("open")},300),$('[data-behavior^="info_tooltip"]').removeClass("open")})},A17.Behaviors.infographic=function(e){"html5"===A17.browserSpec&&A17.Helpers.load_jquery(function(t){A17.Helpers.load_jquery_panzoom(function(){var n=t(e),i=n.data("infographic-id"),o=t("#"+i),a=o.find("[data-infographic-image]"),r=o.find("[data-infographic-close]");n.on("click",function(e){e.preventDefault(),t("html").addClass("is-slideshow-open"),o.fadeIn(function(){a.panzoom({$zoomIn:o.find("[data-infographic-zoomin]"),$zoomOut:o.find("[data-infographic-zoomout]"),$zoomRange:o.find("[data-infographic-zoomrange]"),minScale:1,contain:"invert"})}),setTimeout(function(){o.addClass("is-open")},20)}),r.on("click",function(e){e.preventDefault(),t("html").removeClass("is-slideshow-open"),o.removeClass("is-open"),window.location.hash="",o.fadeOut(function(){o.panzoom("destroy")})}),o.find("[data-copy-link-input]").val(A17.Helpers.get_url_without_hash()+"#"+i),window.location.hash==="#"+i&&n.triggerHandler("click")})})},A17.Behaviors.issue_scroll=function(e){var t=window.location.hash;if(t.length>0&&t.indexOf("article-")>0){var n=t.replace("#","");A17.Helpers.scroll.To(n)}},A17.Behaviors.lightbox=function(e){"html5"===A17.browserSpec&&A17.Helpers.load_jquery(function(t){function n(){if("#slide-"===window.location.hash.substr(0,"#slide-".length)){return parseInt(window.location.hash.replace("#slide-",""),null)}}function i(){var e=n();if(!isNaN(e)&&e!==k){var t=g[0].offsetWidth;_.destroy(),k=e,r(t)}}function o(){v=t(e),g=t("#"+v.data("lightbox-id")),h=g.find("[data-slider-inner]"),y=g.find("[data-slider-paginator]"),b=g.find("[data-slider-grid]")}function a(){t(window).on("resize",m),g[0].addEventListener("slider_destroyed",function(e){k=e.data.currentSet}),g[0].addEventListener("slider_moved",l),r(g[0].offsetWidth)}function r(e){o(),S=.6*e,C=h.find("li"),C.each(function(e,t){t.style.width=S+"px"}),w=g.find("[data-slider-related]").index(),"undefined"==typeof itemCount&&(A=g.find("[data-slider-index]").length),_=new a17_slider({sliderContainer:g[0],sliderInner:h[0],paginator:y[0],slideAmount:S,currentSet:k,centered:!0,automate:!1,keyControls:!1}),t("[data-copy-link-input]").val(A17.Helpers.get_url_without_hash()+"#slide-"+k);var n=k;n<10&&(n="0"+n.toString()),g.find("[data-slider-count]").html(n),A<10&&(A="0"+A.toString()),g.find("[data-slider-total]").html(A),t(document).off("font-loaded:benton-normal-normal"),t("html").hasClass("benton-normal-normal-loaded")?f():t(document).on("font-loaded:benton-normal-normal",function(){f()})}function s(){var e=g[0].offsetWidth;.6*e!=S&&(_.destroy(),r(e))}function l(e){currentPosition=e.data.currentSet;var n=g.find('.a17s_visible[data-a17slider-position="'+(e.data.currentSet-1)+'"]').eq(0),i=n.data("a17slider-position");void 0!==i&&(i=parseInt(i,null)+1,i<10&&(i="0"+i.toString()),g.find("[data-slider-count]").html(i)),t(".copy-link").removeClass("is-active"),t("[data-copy-link-btn] .icon").addClass("icon--subtle"),t("[data-copy-link-input]").val(A17.Helpers.get_url_without_hash()+"#slide-"+e.data.currentSet),g.find("[data-slider-caption]").each(function(e,n){var i=t(n);void 0===i.data("open")&&i.data("open",!1),i.data("open")&&(i.parent().removeClass("open"),i.data("open",!1),$clamp(n,{clamp:2,useNativeClamp:!1}))}),e.data.currentSet-1===w?g.addClass("is-related-visible"):g.removeClass("is-related-visible")}function c(e){e.preventDefault(),o();var n=t(this).find("[data-slider-caption]"),i=n[0],a=g.find(".a17s_visible").eq(0).data("a17slider-position");void 0===n.data("open")&&n.data("open",!1),n.data("open")?(n.parent().removeClass("open"),n.data("open",!1),$clamp(i,{clamp:2,useNativeClamp:!1})):(n.attr("style",null),i.innerHTML=E[a],n.parent().addClass("open"),n.data("open",!0))}function u(){var e=parseInt(t(this).attr("data-slider-grid-item"),null);g.removeClass("is-grid-visible"),b.fadeOut(200,function(){_.move(e+1)})}function d(e){e.preventDefault(),b.fadeIn(200),g.addClass("is-grid-visible")}function p(e){e.preventDefault(),t("html").removeClass("is-slideshow-open"),g.removeClass("is-grid-visible"),g.removeClass("is-open"),window.location.hash="",setTimeout(function(){g.css("display",""),"function"==typeof _.destroy&&(_.destroy(),t(window).off("resize",m))},200)}function f(){h.find("li").each(function(e,n){var i=n.querySelector("[data-slider-caption]");if(null===i)return!0;var o=t(i);void 0===E[e]&&(E[e]=o.html()),$clamp(i,{clamp:2,useNativeClamp:!1})})}function m(){"undefined"!=typeof timer&&clearTimeout(timer),timer=setTimeout(function(){s()},250)}var v,g,h,y,b,w,_,S,C,A,k=n()||1,E={};o(),v.on("click",function(e){e.preventDefault(),t("html").addClass("is-slideshow-open"),g.css("display","block"),a(),g.addClass("is-open")}),i(),n()&&v.triggerHandler("click"),t(window).on("hashchange",function(){i()}),g.on("click","[data-slider-caption-container]",c),g.on("click","[data-slider-gridbtn]",d),g.on("click","[data-slider-grid-item]",u),g.on("click","[data-slider-close]",p)})},A17.Behaviors.media_util_bar=function(e){min$("#form-filter-series [type=radio]").attr("onclick","window.location=this.value"),min$("#form-filter-topic [type=radio]").attr("onclick","submit()")},A17.Behaviors.mobile_search=function(e){function t(){r.value?$(s).addClass("is-populated"):$(s).removeClass("is-populated")}function n(){$(e).addClass("is-open"),setTimeout(function(){r.focus()},20)}function i(){$(e).removeClass("is-open")}var o=document.querySelector("[data-mobile-search-btn]"),a=e.querySelector("[data-mobile-search-close]"),r=e.querySelector("[data-mobile-search-input]"),s=e.querySelector("[data-mobile-search-results]");o.addEventListener("click",function(){n()}),a.addEventListener("click",function(){i()}),r.addEventListener("keyup",function(){t()})},A17.Behaviors.newsletter_promo=function(e){if(e&&"CustomMediaArticle"!==Mura.subtype&&"arabic"!==Mura.siteid){var t=document.querySelector(".article-text"),n=document.querySelectorAll(".article-text .mura-region-local > p"),i=document.querySelector(".newsletter-promo.container"),o={body:t.getAttribute("data-newsletterpromo-text"),buttonLink:t.getAttribute("data-newsletterpromo-button-link"),buttonText:t.getAttribute("data-newsletterpromo-button-text"),image:t.getAttribute("data-newsletterpromo-image")};if(null===i&&null!==o.body&&null!==o.buttonLink&&null!==o.buttonText&&null!==o.image&&n.length>=11){var a='<figure class="newsletter-promo container">\n<div class="newsletter-promo__img">\n<img src='+o.image+' alt="newsletter promo">\n</div>\n<div class="newsletter-promo__body">\n'+o.body+'\n</div>\n<div class="newsletter-promo__cta">\n<a href="'+o.buttonLink+'">\n<button class="btn btn--small">'+o.buttonText+"</button>\n</a>\n</div>\n</figure>";document.querySelector(".article-text .mura-region-local > p:nth-of-type(11)").insertAdjacentHTML("afterend",a)}}},A17.Behaviors.onetrust=function(){function e(e){e.forEach(function(e){"childList"===e.type&&Array.prototype.forEach.call(e.addedNodes,function(e){void 0!==e.classList&&e.classList.contains("optanon-alert-box-wrapper")&&e.offsetHeight>0&&(n=document.querySelector(".optanon-alert-box-wrapper"),A17.one_trust_active=!0,i.setAttribute("style","position: relative; top: 74px"),n.setAttribute("style","top: 0"),a.disconnect(),s.observe(n,r))})})}function t(e){e.forEach(function(e){"attributes"===e.type&&A17.one_trust_active&&e.target.classList.contains("optanon-alert-box-wrapper")&&"style"===e.attributeName&&(i.removeAttribute("style"),A17.one_trust_active=!1,s.disconnect())})}var n,i=document.querySelector("body"),o={childList:!0},a=new MutationObserver(e);a.observe(i,o);var r={attributes:!0},s=new MutationObserver(t)},A17.Behaviors.page_change=function(e){"undefined"!==sessionStorage&&$(e).on("click",function(){var t=e.dataset.filterPageNum,n=e.dataset.filterPageContext,i=n+".page";sessionStorage.setItem(i.toUpperCase(),encodeURIComponent(t)),A17.Helpers.cookie_create(i.toUpperCase(),encodeURIComponent(t))})},A17.Behaviors.page_context_nav=function(){function e(){null!=o&&null==i&&(t.classList.contains("is-sticky")?("xlarge"!==A17.media_query_in_use&&"large"!==A17.media_query_in_use||n.classList.add("hide"),o.classList.add("is-sticky")):t.classList.contains("is-end")?o.classList.remove("is-sticky"):(o.classList.remove("is-sticky"),n.classList.remove("hide")))}var t=document.querySelector(".sticky-header"),n=document.querySelector(".primary-nav"),i=document.querySelector("aside.paywall"),o=document.querySelector(".page-context-nav");window.addEventListener("scroll",debounce(e,0,!0),!1)};var isRendered=!0;A17.Behaviors.plyr=function(e){var t=0;0===t&&(plyrSetup(),plyrRender(e),$(window).on("resize",function(){e.plyr.pause(),plyrRender(e)})),t++},A17.Behaviors.plyr_module=function(e){var t=0;0===t&&(plyrSetupModule(),plyrRender(e),$(window).on("resize",function(){e.plyr.pause(),plyrRender(e)})),t++},A17.Behaviors.plyr_switch=function(e){var t=e.querySelector("[data-plyr-switch-play-toggle]"),n=e.querySelector("[data-plyr-switch-player]"),i=!1;t.addEventListener("click",function(t){t.preventDefault(),i=!i,i?($(e).addClass("is-playing"),n.plyr.play()):($(e).removeClass("is-playing"),n.plyr.pause())})},A17.Behaviors.primary_nav=function(e){function t(e){"medium"===A17.media_query_in_use||"small"===A17.media_query_in_use?(e.preventDefault(),i.classList.toggle("primary-nav--open")):r&&a.previousElementSibling.classList.contains("primary-nav--store")&&(i=document.querySelector(".primary-nav--store"),i.classList.toggle("primary-nav--open"))}function n(){var e=A17.Helpers.get_media_query_in_use();"xlarge"!==e&&"large"!==e||i.classList.remove("primary-nav--open")}var i=document.querySelector(".primary-nav"),o=document.querySelector(".primary-nav__bg"),a=document.querySelector(".store-nav"),r=document.querySelector("body").classList.contains("store");e.addEventListener("click",t,!1),o.addEventListener("click",function(){i.classList.remove("primary-nav--open")},!1),window.addEventListener("resize",debounce(n,175,!1),!1)},A17.Behaviors.product_option=function(e){var t=$(e),n=$('.product-option[data-for="'+t.attr("id")+'"]'),i=$("#"+n.attr("data-group")),o=$('label[for="'+t.attr("id")+'"]'),a=document.querySelectorAll("[data-product-cta-submit]")[0];o.on("change",function(e){e.stopPropagation(),$.each(i[0].querySelectorAll(".product-option"),function(e){$(e).removeClass("active")}),n.addClass("active"),void 0!==a&&1==a.disabled&&a.removeAttribute("disabled")})},A17.Behaviors.scroll=function(e){var t=$(e).attr("href").replace("#","");e.addEventListener("click",function(e){e.preventDefault(),A17.Helpers.scroll.To(t)})},A17.Behaviors.search=function(e){function t(e){switch(e.key){case"ArrowDown":e.preventDefault(),p<d.length-1&&p++,d.forEach(function(e,t){t===p?e.classList.add("selected"):e.classList.remove("selected")});break;case"ArrowUp":
e.preventDefault(),p>0&&p--,d.forEach(function(e,t){t===p?e.classList.add("selected"):e.classList.remove("selected")});break;case"Enter":d.forEach(function(t){t.classList.contains("selected")&&(e.preventDefault(),window.location=t.firstElementChild.href)});break;case"Escape":e.preventDefault(),h.classList.remove("search__autocomplete-container--open");break;default:return!1}}function n(e){d.forEach(function(t,n){e.target===t||e.target.closest(".search__autocomplete-li")===t?(t.classList.add("selected"),p=n):t.classList.remove("selected")})}function i(e){d.forEach(function(t){var n=t.textContent.toLowerCase().indexOf(e.toLowerCase()),i='<a href="'+t.getElementsByTagName("A")[0].href+'"><span class="'+t.getElementsByTagName("SPAN")[0].className+'"></span>'+t.textContent.slice(0,n)+"<strong>"+t.textContent.slice(n,n+e.length-1+1)+"</strong>"+t.textContent.slice(n+e.length-1+1)+"</a>";n>0&&(t.innerHTML=i)})}function o(){if(c||!c&&("xlarge"===A17.media_query_in_use||"large"===A17.media_query_in_use))Mura.post("/sciam/remote/misc.cfc?method=asyncSearch&q="+e.value).then(function(o){p=-1,o.length>0?(y.innerHTML=o,h.classList.add("search__autocomplete-container--open"),d=y.querySelectorAll(".search__autocomplete-li"),i(e.value),window.addEventListener("keydown",t,!1),window.addEventListener("mouseover",n,!1)):(y.innerHTML=null,h.classList.remove("search__autocomplete-container--open"))}).catch(function(e){console.error("Oh my word:"+e)});else if(!c&&("medium"===A17.media_query_in_use||"small"===A17.media_query_in_use))return!1}function a(t){t.target.matches(".search__input")&&(e.value.length>0?(c&&g.removeAttribute("style"),setTimeout(o,250)):(c&&(g.style.display="none"),h.classList.remove("search__autocomplete-container--open"),y.innerHTML=null,p=0))}function r(e){e.target.matches(".search__button--close")?(c&&(e.target.style.display="none",f.focus()),f.value=null,y.innerHTML=null,h.classList.remove("search__autocomplete-container--open"),p=0):(e.target.matches(":not(.search__container)")||e.target.matches(":not(.search__autocomplete-container)"))&&(h.classList.remove("search__autocomplete-container--open"),y.innerHTML=null,p=0)}function s(e){(e.target.matches(".search-results .search__button")||e.target.matches(".primary-nav .search__button"))&&m.submit()}function l(e){var t="Page"===Mura.type&&"Search"===Mura.subtype&&!c;(e.target.matches(".primary-nav .search__button")||e.target.matches(".header__search-btn"))&&(t&&(f=document.querySelector("#advanced-search [name=q]")),f.focus())}var c=document.querySelector("main").classList.contains("search-results"),u=e.getAttribute("data-query"),d=[],p=0,f=this,m=document.querySelector(".search__form"),v=document.querySelector(".search__container"),g=document.querySelector(".search__button--close"),h=document.querySelector(".search__autocomplete-container"),y=document.querySelector(".search__autocomplete-results-list");if(c){var b=document.querySelector(".primary-nav .search__input");"xlarge"!==A17.media_query_in_use&&"large"!==A17.media_query_in_use||b.setAttribute("disabled",""),m=document.querySelector(".search-results .search__form"),f=document.querySelector(".search-results .search__input"),g=document.querySelector(".search-results .search__button--close"),h=document.querySelector(".search-results .search__autocomplete-container"),y=document.querySelector(".search-results .search__autocomplete-results-list"),f.value=unescape(u)}"xlarge"!==A17.media_query_in_use&&"large"!==A17.media_query_in_use||window.addEventListener("click",l,!1),"small"===A17.media_query_in_use&&window.addEventListener("click",s,!1),window.addEventListener("input",a,!1),window.addEventListener("click",r,!1),f.addEventListener("focusout",function(e){v.classList.remove("search__container--open"),f.value=""},!1)},A17.Behaviors.search_filter=function(e){function t(){i.advancedsearch.value=!0,Object.keys(i.elements).forEach(function(e){""!==i.elements[e].value&&null!==i.elements[e].value||(i.elements[e].disabled=!0)})}var n=e.querySelectorAll(".tooltip__field__input"),i=document.querySelector("#advanced-search"),o=window.location.search.indexOf("advancedsearch=true")>=0;o&&(e.querySelector(".util-list__item:nth-of-type(2)").classList.add("hide"),e.querySelector(".util-list__item:nth-of-type(3)").classList.add("hide"));for(var a=0;a<n.length;a++)n[a].onclick=function(){var n=this.closest("div.tooltip"),a=n.parentElement,r=a.querySelector("span.small-hide"),s=this.getAttribute("data-name");r.textContent=s,this.checked=!0,o?(i.sortby.value=this.value,t(),i.submit()):e.submit()}},A17.Behaviors.sharer=function(e){var t=$($(e)[0]).attr("data-sharer-url");$(e).on("click",function(e){e.preventDefault();var n=t.replace("[URL]",encodeURIComponent(window.location.href));n=n.replace("[TITLE]",window.document.title);var i=window.open(n,"name","height=300,width=600,top=100,left=100");window.focus&&i.focus()})},A17.Behaviors.sign_in_flyout=function(e){var t=document.getElementById("signin-click"),n=document.getElementById("signin-flyout"),i=document.getElementById("signin-flyout__close"),o=(e.querySelector("[data-signin-email]"),e.querySelector("[data-signin-password]"),e.querySelector("[data-signin-submit-btn]")),a=e.querySelector("[data-signin-loading]");$(t).on("click",function(){A17.Helpers.toggleClass(n,"active"),n.focus()}),$(i).on("click",function(){A17.Helpers.toggleClass(n,"active")}),n.addEventListener("submit",function(e){o.disabled="true",o.style.display="none",a.style.display="block"})},A17.Behaviors.sign_in_main=function(e){var t=e.querySelector("[data-signin-form]"),n=e.querySelector("[data-signin-loading]"),i=e.querySelector("[data-signin-submit]");t.addEventListener("submit",function(e){i.disabled="true",i.style.display="none",n.style.display="block"})},A17.Behaviors.site_license_tracking=function(){function e(e){e=e||window.event,e=e.target||e.srcElement;var t=e.getAttribute("data-index"),i=n[t],o="",a="",r="";console.log("isPaid: "+i.isPaid),1==i.isPaid?(o="Subscription",a="grantedSiteLicense",r="Access Granted because an Active Site License Subscription was Found"):(o="Free",a="grantedFreeArticleType",r="Access Granted because the Product is Free to All Users"),dataLayer[0].user[0].sitelicense.accessLevel=o,dataLayer[0].user[0].sitelicense.accessReason=a;var s=dataLayer[0].user[0].sitelicense.isSiteLicenseCustomer,l=parseInt(dataLayer[0].content.contentInfo.publishedAtDate);Mura.post("?slatAction=sciam:api.sendTracking",{accessLevel:o,accessReason:a,filePath:i.filepath,entitled:!0,doi:i.doi,brand:i.brand,accessReasonMsg:r,isSiteLicenseCust:s,yearOfPub:l}).then(function(){console.log("COUNTER request sent")})}for(var t=document.getElementsByClassName("download-article-pdf"),n=[],i=0;i<t.length;i++){var o=t[i];o.getElementsByTagName("span")[0].setAttribute("data-index",i);var a={};a.href=o.getAttribute("href"),a.isPaid=o.getAttribute("data-ispaid"),a.filepath=o.getAttribute("data-filepath"),a.doi=o.getAttribute("data-doi"),a.brand=o.getAttribute("data-brand"),n[i]=a,o.onclick=e}},A17.Behaviors.site_license_tracking_article=function(){function e(){var e=n[0],t="",i="",o="",a=dataLayer[0].user[0].sitelicense.isSiteLicenseCustomer,r=parseInt(dataLayer[0].content.contentInfo.publishedAtDate),t=dataLayer[0].user[0].sitelicense.accessLevel,i=dataLayer[0].user[0].sitelicense.accessReason;o="Subscription"==t?"Access Granted because an Active Site License Subscription was Found":"Access Granted because the Product is Free to All Users",Mura.post("?slatAction=sciam:api.sendTracking",{accessLevel:t,accessReason:i,filePath:e.filepath,entitled:!0,doi:e.doi,brand:e.brand,accessReasonMsg:o,isSiteLicenseCust:a,yearOfPub:r}).then(function(){console.log("COUNTER request sent")})}for(var t=document.getElementsByClassName("download-article-pdf"),n=[],i=0;i<t.length;i++){var o=t[i],a={};a.href=o.getAttribute("href"),a.isPaid=o.getAttribute("data-ispaid"),a.filepath=o.getAttribute("data-filepath"),a.doi=o.getAttribute("data-doi"),a.brand=o.getAttribute("data-brand"),n[i]=a,o.onclick=e}},A17.Behaviors.site_license_tracking_issue=function(){function e(){var e=n[0],t=dataLayer[0].user[0].sitelicense.isSiteLicenseCustomer;Mura.post("?slatAction=sciam:api.sendTrackingIssue",{accessLevel:"Subscription",accessReason:"grantedSiteLicense",filePath:e.filepath,isSiteLicenseCust:t}).then(function(){console.log("TOC access logged")})}for(var t=document.getElementsByClassName("download-issue-btn-counter"),n=[],i=0;i<t.length;i++){var o=t[i],a={};a.href=o.getAttribute("href"),a.filepath=o.getAttribute("data-filepath"),n[i]=a,o.onclick=e}},A17.Behaviors.slider=function(e){function t(){a=e.querySelector("[data-slider-inner]"),r=e.querySelector("[data-slider-paginator]")}function n(){t(),s=new a17_slider({sliderContainer:e,sliderInner:a,paginator:r,slideAmount:190,keyControls:!1,automate:!1,centered:!0})}function i(){var t=e.offsetWidth;t!=l&&(s.destroy(),n(t))}function o(){"undefined"!=typeof timer&&clearTimeout(timer),timer=setTimeout(function(){i()},250)}if("html5"===A17.browserSpec){var a,r,s,l;window.reinitSubscribeSlider=i,$(window).on("resize",o),n(e.offsetWidth)}},A17.Behaviors.sloptout_show=function(e){0==A17.Helpers.cookie_read("sloptout")&&($("#sloptout").removeClass("browser-update--hide"),$("#sloptout").addClass("browser-update"));var t=e.querySelector("[data-sloptout-close]");$(t).on("click",function(){$(e).addClass("browser-update--hide")})},A17.Behaviors.sloptout_update=function(e){$(e).on("click",function(){A17.Helpers.cookie_create("sloptout",encodeURIComponent(1)+"; domain=.scientificamerican.com")})},A17.Behaviors.sticky=function(e){function t(){var t=s.getBoundingClientRect().top+r,a=s.getBoundingClientRect().bottom,d=s.offsetHeight,p=e.offsetHeight+l,f=r>t-l,m=r<a,v=r+p>=t+d;c=d>p,f&&m&&!v||m&&f&&!v?(n(),document.querySelector("[data-article-sticky-ad]")&&u()):f?v&&o():i()}function n(){e.classList.contains("is-sticky")||!0!==c||(e.classList.remove("is-end"),e.classList.add("is-sticky"))}function i(){e.classList.contains("is-sticky")&&(e.classList.remove("is-end"),e.classList.remove("is-sticky"))}function o(){e.classList.contains("is-sticky")&&(e.classList.remove("is-sticky"),e.classList.add("is-end"))}function a(){0==r&&"undefined"!==r||(r=document.documentElement.scrollTop||document.body.scrollTop)}var r,s=A17.Helpers.closest(e,function(e){return A17.Helpers.hasClass(e,"sticky-bounds")}),l=parseInt(e.getAttribute("data-top-offset"),null)||0,c=!1,u=function(){if(document.querySelector("[data-article-sticky-ad]")){var e=null!==document.querySelector(".aside-product")?document.querySelector(".aside-product").offsetHeight:0,t=null!==document.querySelector("#read-next")?document.querySelector("#read-next").offsetHeight:0,n=document.querySelector(".article-grid__main").offsetHeight,i=t+e,o=n-i;document.querySelector("[data-article-sticky-ad]").style.minHeight=o+"px"}};window.addEventListener("load",a,!1),window.addEventListener("resize",debounce(t,0,!0)),window.addEventListener("scroll",debounce(t,0,!0))},A17.Behaviors.subscribe_hover=function(e){function t(){var e=n.getBoundingClientRect().left+document.body.scrollLeft,t=parseInt(getComputedStyle(n).width,null);n.style.width=t+40+e+"px",n.style.marginLeft=-40-e+"px"}var n=e.querySelector("[data-subscribe-hover-panel]"),i=n.childNodes[0],o=e.querySelector("[data-subscribe-hover-btn]"),a=!1;n.removeChild(i),hoverintent(o,function(){$(n).addClass("visible"),n.appendChild(i),a=!0},function(){});var r;$(window).on("resize",function(){n.style.width=null,n.style.marginLeft=null,setTimeout(function(){t()},0)}),t(),$(n).on("mouseleave",function(){r=setTimeout(function(){$(n).removeClass("visible"),n.removeChild(i),a=!1},500)}),$(n).on("mouseenter",function(){void 0!==r&&a&&clearTimeout(r)})},A17.Behaviors.tabs=function(e){var t=$(e),n=e.querySelectorAll("button"),i=document.querySelectorAll("[data-tabs-content]"),o=[];$.each(i,function(e){$(e).attr("data-tabs-id")===t.attr("id")&&o.push(e)}),$.each(n,function(e){e.addEventListener("click",function(e){e.preventDefault();var t=$(this);$.each(n,function(e){$(e).removeClass("current")}),t.addClass("current"),$.each(o,function(e){$(e).addClass("small-hide")});var i=t.attr("data-content-id");$.each(o,function(e){e.dataset.tabsContent===i&&$(e).removeClass("small-hide")})})})},A17.Behaviors.toaster=function(){function e(){if(0!==i)return!1;n.classList.add("toaster-ad--toasted"),document.cookie="toaster_loaded=true; max-age=432000; path=/"}function t(e){(e.target.matches(".toaster-ad__btn")||e.target.matches(".toaster-ad__btn > .icon.icon__close--white"))&&(n.classList.remove("toaster-ad--toasted"),n.removeAttribute("style"))}var n=document.querySelector(".toaster-ad"),i=document.cookie.split(";").filter(function(e){return e.indexOf("toaster_loaded")>=0}).length;window.addEventListener("load",e),window.addEventListener("click",t)},A17.Behaviors.toggle=function(e){var t=$(e);t.on("click",function(e){e.preventDefault();var n=$(this).attr("href")||$(this).attr("data-href"),i=$(this).attr("data-only"),o=$(this).attr("data-parent");if(i){if(A17.Helpers.get_media_query_in_use()!==i)return!1}var a=$(n);A17.Helpers.hasClass(a[0],"is-active")?(a.removeClass("is-active"),t.removeClass("is-active"),o&&$(t[0].parentNode).removeClass("is-active")):(a.addClass("is-active"),t.addClass("is-active"),o&&$(t[0].parentNode).addClass("is-active"))})},A17.Behaviors.toggle_infographic_width=function(e){function t(){if("small"===A17.Helpers.get_media_query_in_use())return!1;$(e).addClass("is-open"),$(e).removeClass("is-fully-closed"),i=!0}function n(){$(e).removeClass("is-open"),i=!1,setTimeout(function(){$(e).addClass("is-fully-closed")},300)}var i=!1;e.addEventListener("click",function(e){e.preventDefault(),i?n():t()}),$(window).on("resize",function(){i&&n()})},A17.Behaviors.toggle_open=function(e){function t(e){e.preventDefault(),o.classList.toggle(a)}function n(){A17.media_query_in_use!=r&&o.classList.remove(a)}var i=e.getAttribute("data-target"),o=document.querySelector("[data-toggle="+i+"]"),a=i+"--open",r=A17.Helpers.get_media_query_in_use();e.addEventListener("click",t,!1),window.addEventListener("resize",debounce(n,175,!1),!1)},A17.Behaviors.toggle_open_tabs=function(e){function t(e){var t=document.querySelector("."+e.target.getAttribute("data-target"));e.preventDefault(),t.classList.contains("active")?t.classList.remove("active"):(i.childNodes.forEach(function(e){e.classList.remove("active")}),t.classList.add("active"))}var n=e.getAttribute("data-tab-target"),i=document.querySelector("[data-tab-container="+n+"]");e.addEventListener("click",t,!1)},A17.Behaviors.tooltip=function(e){function t(){var t=e.querySelectorAll(".open");e.classList.remove("open");for(var n=0;n<t.length;n++)t[n].classList.remove("open")}function n(e){e.target.hasAttribute("aria-expanded")&&("false"===e.target.getAttribute("aria-expanded")?e.target.setAttribute("aria-expanded","true"):e.target.setAttribute("aria-expanded","false"))}A17.Helpers.addEvent(window,"click",function(i){i.target!=e&&i.target.parentNode!=e?(t(),n(i)):(A17.Helpers.toggleClass(e.querySelector(".tooltip"),"open"),A17.Helpers.toggleClass(e,"open"))}),A17.Helpers.addEvent(window,"resize",function(){t()})},A17.Behaviors.underline_menu_item=function(){function e(){var e="blogs"===Mura.siteid,t="topic"===a,i="section"===a,s="education"===a,l="bringsciencehome"===a||"scienceinaction"===a||"citizenscience"===a||"STEM Stories"===r||"Careers"===r,c="videoseries"===a||"video"===a,u="podcastseries"===a||"podcast"===a||"podcasts"===a;n.forEach(function(n){var r=n.dataset.title;t?r===o&&n.classList.add("primary-nav__list-item--active"):i?r===o&&n.classList.add("primary-nav__list-item--active"):s?r===a&&n.classList.add("primary-nav__list-item--active"):l?"education"===r&&n.classList.add("primary-nav__list-item--active"):c?"video"===r&&n.classList.add("primary-nav__list-item--active"):u?"podcasts"===r&&n.classList.add("primary-nav__list-item--active"):e&&"blogs"===r&&n.classList.add("primary-nav__list-item--active"),r!==o||e||l||c||u||n.classList.add("primary-nav__list-item--active")})}function t(){document.querySelector(".primary-nav__list-item[data-title=store]").classList.add("primary-nav__list-item--active")}var n=document.querySelectorAll(".primary-nav__list-item"),i=document.querySelector("body").classList.contains("store"),o=dataLayer[0].content.category.subjectType.toLowerCase(),a=dataLayer[0].content.category.contentType.toLowerCase(),r=dataLayer[0].content.contentInfo.title;A17.Helpers.get_media_query_in_use();o.match(/\s/)&&(o=A17.Helpers.makeKebabCase(o)),window.addEventListener("DOMContentLoaded",e),i&&window.addEventListener("DOMContentLoaded",t)},A17.Behaviors.validate_filters=function(e){if("undefined"!==sessionStorage)for(var t=e.dataset.filterPageContext.split(","),n=0;n<=t.length-1;n++)for(var i=e.dataset.filters.split(","),o=t[n],a=0;a<=i.length-1;a++){var r=i[a],s=(o+"."+r).toUpperCase();sessionStorage.getItem(s)||A17.Helpers.cookie_delete(s)}},A17.Behaviors.validate_user_address=function(e){$(e).on("click",function(t){var n=document.querySelector("#shippingStreetAddress"),i=document.querySelector("#shippingCity"),o=document.querySelector("#shippingPostalCode");n.style="",i.style="",o.style="",""==n.value?(n.style.border="1px solid red",n.focus(),t.preventDefault()):""==i.value?(i.style.border="1px solid red",i.focus(),t.preventDefault()):""==o.value?(o.style.border="1px solid red",o.focus(),t.preventDefault()):e.closest("form").submit()})},A17.Behaviors.video_feature=function(e){var t=e.querySelector("[data-video-feature-poster]"),n=e.querySelector("[data-video-feature-player]"),i=e.querySelector("#sciamResVid"),o=(e.querySelector("[data-video-feature-player-inner]"),document.querySelectorAll(".vjs-volume-bar")[0].parentNode.parentNode);n.style.display="none",t.addEventListener("click",function(e){e.preventDefault(),$(n).removeClass("is-hidden"),n.style.display="block",t.style.display="none",i.style.height="100%",o.style.margin="0 0px 25px -3px",videojs("sciamResVid").ready(function(){this.play()})})},A17.Behaviors.visual_breadcrumbs=function(e){function t(){o=document.documentElement.scrollTop||document.body.scrollTop}function n(){$.each(i,function(e){void 0===e.passed&&(e.passed=!1);var t=document.getElementById($(e).attr("data-block-id"));t.offsetTop<o&&!e.passed?($(e).addClass("is-passed"),e.passed=!0):t.offsetTop>=o&&e.passed&&($(e).removeClass("is-passed"),e.passed=!1)})}var i=e.querySelectorAll("[data-block-id]"),o=0;$.each(i,function(e){e.addEventListener("click",function(t){t.preventDefault();var n=document.getElementById($(e).attr("data-block-id"));A17.Helpers.scrollTo(n,300)})}),t(),n(),$(window).on("scroll",function(){t()}),function e(){requestAnimFrame(e),n()}()},A17.Helpers.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)},A17.Helpers.closest=function(e,t){return e&&(t(e)?e:A17.Helpers.closest(e.parentNode,t))},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null}),A17.Helpers.comments=function(){function e(e){e.style.background="hsl(0,0,95%)";for(var t=100,n=85;n<=200;n+=.05)t+=10,function(t,n){setTimeout(function(){e.style.background="hsl(0,0.1%,"+t+"%)"},n)}(n,t)}var t=mura.themepath+"/display_objects/comments/ajax/commentsProxy.cfc",n=document.getElementById("commentsPage"),i=document.getElementById("postcomment-form"),o=(document.getElementById("postcomment"),document.getElementById("article-comment-sort"));if(null!=o)var a=o.querySelector("[name=sortDirection]").value;else var a="desc";var r={method:"renderCommentsPage",contentID:$(n).attr("data-contentid"),siteID:$(n).attr("data-siteid"),sortDirection:a,nextN:20},s=document.getElementsByName("sortDirection");$.each(s,function(e){$(e).on("click",function(t){r.sortDirection=e.value,r.pageNo=1,n.innerHTML="",l(r),A17.Helpers.cookie_create("commentssort",e.value,30)})});var l=function(e){mura.ajax({type:"post",url:t,data:e,success:function(e){n.innerHTML=n.innerHTML+e,c()}})},c=function(){var o=document.getElementById("moreComments");null!=o&&$(o).on("click",function(e){e.preventDefault();var t=$(o).attr("data-pageno");$(n).attr("data-contentid");r.pageNo=t,r.commentID="",o.parentNode.removeChild(o),l(r)});var a=n.querySelectorAll(".reply");$.each(a,function(e){$(e).on("click",function(t){t.preventDefault();var n=$(e).attr("data-id"),o=document.getElementById("postcomment-"+n),a=document.getElementById("postcomment");0==o.childNodes.length&&(a.parentNode.removeChild(a),o.appendChild(a),a.querySelector("[name=parentid]").value=n,a.querySelector("[type=submit]").innerHTML="Reply",i.querySelector("#postcomment-comment").style.display="inline-block",i.querySelector(".article-comment-form__header").style.display="none")})});var s=i.querySelector("#postcomment-comment");$(s).on("click",function(e){e.preventDefault(),s.style.display="none";var t=document.getElementById("postcomment");t.parentNode.removeChild(t),null==s.parentNode.parentNode.querySelector("form")&&(i.querySelector(".article-comment-form__header").style.display="block",i.appendChild(t),t.querySelector("[name=parentid]").value="",t.querySelector("[type=submit]").innerHTML="Post")});var u=n.querySelectorAll(".inReplyTo");$.each(u,function(n){A17.Helpers.hasClass(n,"eventcomment")||($(n).addClass("eventcomment"),$(n).on("click",function(i){i.preventDefault();var o=($(n).attr("data-id"),$(n).attr("data-parentid"));if(0!=$("#comment-"+o).length){A17.Helpers.scroll.To("comment-"+o);e(document.getElementById("comment-"+o).parentNode)}else r.commentID=o,mura.ajax({type:"post",url:t,data:r,success:function(t){var i=document.createElement("div");i.innerHTML=t,n.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.insertBefore(i,n.parentNode.parentNode.parentNode.parentNode.parentNode),e(i),c()}})}))});var d=n.querySelectorAll(".flagAsSpam");$.each(d,function(e){$(e).on("click",function(n){n.preventDefault();var i=$(e).attr("data-id"),o=arguments.callee,a=t+"?method=flag&commentID="+i;mura.ajax({type:"get",url:a,success:function(t){e.innerHTML="Reported as Abuse",e.removeEventListener("click",o),$(e).on("click",function(e){e.preventDefault()}),e.style.cursor="default"}})})})};!function(){var i=window.location.hash;if(i.length>0&&i.indexOf("comment-")>0){var o=i.replace("#comment-","");if(o.indexOf("-")>0){var a=o.substring(0,o.indexOf("-"));o.replace(a+"-","");r.pageNo=a,mura.ajax({type:"post",url:t,data:r,success:function(t){var o=i.replace("#","");n.innerHTML=n.innerHTML+t,c(),A17.Helpers.scroll.To(o),e(document.getElementById(o))}})}else l(r)}else l(r)}()},A17.Helpers.cookie_create=function(e,t,n){var i,o;n?(i=new Date,i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()):o="",document.cookie=e+"="+t+o+"; path=/"},A17.Helpers.cookie_delete=function(e){e&&A17.Helpers.cookie_create(e,"",-1)},A17.Helpers.cookie_read=function(e){if(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}return null},A17.Helpers.font_observers=function(){function e(e,t){var n=i[e];if(n){var a=n.name.toLowerCase()+"-"+n.weight+"-"+n.style;window.document.documentElement.className+=" "+a+"-loaded",n.loaded=!0,t||(o+=e+",",A17.Helpers.cookie_create("SA_fonts_loaded",o,1)),$(document).trigger("font-loaded:"+a)}}function t(e,t){for(var n=0,i=e.length;n<i;n++)t.call(e[n],e[n],n)}var n={normal:400,bold:700},i=[{name:"Benton",weight:"normal",style:"normal"},{name:"Benton",weight:"bold",style:"normal"},{name:"Brunel-Deck-Semibold",weight:"normal",style:"normal"},{name:"Brunel-Deck-Semibold",weight:"normal",style:"italic"},{name:"Brunel-Poster-Bold",weight:"normal",style:"italic"}],o=A17.Helpers.cookie_read("SA_fonts_loaded")||"";o&&t(o.split(","),function(t){t&&"number"==typeof(t=parseInt(t,10))&&e(t,!0)}),t(i,function(t,i){t.loaded||FontFaceOnload(t.name,{success:function(){e(i,!1)},weight:n[t.weight],style:t.style,timeout:3e3})})},A17.Helpers.get_media_query_in_use=function(){function e(e){return e.replace(/'/gi,"").replace(/"/gi,"")}return window.opera?e(window.getComputedStyle(document.body,":after").getPropertyValue("content"))||"large":window.getComputedStyle?e(window.getComputedStyle(document.head,null).getPropertyValue("font-family"))||"large":"large"},A17.Helpers.get_url_without_hash=function(){return location.protocol+"//"+location.host+location.pathname+(location.search?location.search:"")},A17.Helpers.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},A17.Helpers.load_jquery=function(e){window.jQuery&&e(window.jQuery);var t=document.createElement("script");t.type="text/javascript",t.src=("https:"==document.location.protocol?"https://":"http://")+"ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);var i=function(e){window.jQuery?e(jQuery):window.setTimeout(function(){i(e)},100)};i(function(){jQuery.noConflict(),e(jQuery)})},A17.Helpers.load_jquery_panzoom=function(e){void 0!==jQuery.Panzoom&&e();var t=document.createElement("script");t.type="text/javascript",t.src=("https:"==document.location.protocol?"https://":"http://")+"cdnjs.cloudflare.com/ajax/libs/jquery.panzoom/2.0.5/jquery.panzoom.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);var i=function(e){void 0!==jQuery.Panzoom?e(jQuery.Panzoom):window.setTimeout(function(){i(e)},100)};i(function(){e()})},A17.Helpers.makeKebabCase=function(e){return e.replace(/\s/,"-")},A17.Helpers.oritentation_change_fix=function(){if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)){var e=document.querySelector('meta[name="viewport"]');e&&(e.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0",document.body.addEventListener("gesturestart",function(){e.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},!1))}},A17.Helpers.oritentation_change_fix(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),A17.Helpers.resized=function(){function e(e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),t.eventName=e,t.target=document,document.dispatchEvent(t)}if(e("resized"),!A17.Helpers.get_media_query_in_use)return console.log("Missing: A17.Helpers.get_media_query_in_use"),!1;var t=A17.Helpers.get_media_query_in_use();A17.media_query_in_use!=t&&(A17.media_query_in_use=A17.Helpers.get_media_query_in_use(),e("media_query_updated"))},A17.Helpers.scroll=function(){var e=function(e){return function(){return e.getBoundingClientRect().top-400}};return{To:function(t){function n(){(i=a())!==l&&(l=i,r=i>-100&&i<100?i>-5&&i<5?1:5:r,(i>1||i<-1)&&(i<0?window.scrollBy(0,-r):window.scrollBy(0,r),setTimeout(n,s)))}var i,o=document.getElementById(t),a=e(o),r=Math.round(Math.abs(a())/50),s=Math.round(20/r),l=0;n()}}}(),A17.Helpers.scrollTo=function(e,t,n){t=void 0!==t?t:0,n=void 0!==n?n:200;var i=e.offsetTop-t;void 0!==document.body.scrollTop?__scrollTo(document.body,i,n):__scrollTo(document.documentElement,i,n)},A17.Helpers.toggleClass=function(e,t){A17.Helpers.hasClass(e,t)?$(e).removeClass(t):$(e).addClass(t)},min$=function(){function e(e){if(e){this.length=e.length;for(var t=0;t<this.length;t++)this[t]=e[t]}}function t(t,n){var i=[];return t&&"string"!=typeof t?i=t.addClass?t:[t]:t&&(i=(n||document).querySelectorAll(t||"☺")),new e(i)}if(void 0!==typeof document.querySelectorAll&&"addEventListener"in window&&window.getComputedStyle&&Object.keys){var n=0,i={},o=function(e,t){for(var n=e.length,i=0;i<n;i++){if(!1===t.call(e[i],e[i],i))break}return e};return e.prototype={each:function(e){return o(this,e)},on:function(e,t){return o(this,function(o){n++,o.handlers||(o.handlers={});var a=e.split(".");o.handlers[n]=e,i[n]={type:a[0],namespace:a[1]||"",fn:t},o.addEventListener(a[0],t,!1)}),this},off:function(e){return o(this,function(t){var n,o,a=t,r=a.handlers||[],s=void 0===e?[]:e.split(".");s.length>0&&(n=s[0]||"",o=s[1]||""),Object.keys(r).forEach(function(e){(0===s.length||n===i[e].type&&o===i[e].namespace||n===i[e].type&&""===o||o===i[e].namespace&&""===n)&&(a.removeEventListener(i[e].type,i[e].fn,!1),delete a.handlers[e],delete i[e])})}),this},trigger:function(e,t){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!0),n.data=t||{},n.eventName=e,o(this,function(e){n.target=e,e.dispatchEvent(n)}),this},addClass:function(e){return o(this,function(n){n.classList?n.classList.add(e):t(n).hasClass(e)||(n.className+=" "+e)}),this},removeClass:function(e){return o(this,function(t){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}),this},hasClass:function(e){var t=this.length>0?this[0]:this;return document.body.contains(t)?t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className):this},attr:function(e,t){if(void 0===t){var n=this.length>0?this[0]:this;return document.body.contains(n)?n.getAttribute(e):this}return o(this,function(n){n.setAttribute(e,t)}),this},css:function(e,t){if("object"==typeof e)return o(this,function(t){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])}),this;if(void 0===t){var n=this.length>0?this[0]:this;return document.body.contains(n)?window.getComputedStyle(n,null).getPropertyValue(e):this}return o(this,function(n){n.style[e]=t}),this},index:function(e){var t=-1;if(e){if(e=e.length>0||e.addClass?e[0]:e,!document.body.contains(e))return t}else e=this[0]||this;return o(this,function(n,i){if(n===e)return t=i,!1}),t}},t.each=o,t.prototype=e.prototype,t}}(),function(){"use strict";window.a17_slider=function(e){function t(e,t){var n=(t||q.sliderContainer).querySelectorAll(e||"☺");return 1==n.length?n[0]:n}function n(e,t,n){if("object"==typeof t){for(var i in t)e.style[i]=t[i];return this}return void 0===n?document.defaultView.getComputedStyle(e,null).getPropertyValue(t):(e.style[t]=n,e)}function i(e,t,n){return void 0===n?e.getAttribute(t):(e.setAttribute(t,n),e)}function a(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function r(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function l(e){var t=e.childNodes,n=[];return Array.prototype.forEach.call(t,function(e,t){1===e.nodeType&&n.push(e)}),n}function c(e){return l(e).length}function u(e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),t.data={container:q.sliderContainer,currentSet:q.currentSet},t.eventName=e,q.sliderContainer.dispatchEvent(t)}function d(){var e=t("img[data-src]",q.sliderInner);Array.prototype.forEach.call(e,function(e,t){var n=new Image,i=e;n.onload=function(){0==i.css("opacity")&&i.css("opacity","1")},""==i.attr("src")&&(n.src=i.attr("data-src")||i.attr("src"))})}function p(e){try{window.cancelAnimationFrame(V)}catch(e){}if(e){var t=Z?-1*e:e;V=window.requestAnimationFrame(function(){f(t)})}else f(M)}function f(e){n(q.sliderInner,{"-webkit-transform":"translateX("+e+"px)","-moz-transform":"translateX("+e+"px)","-ms-transform":"translateX("+e+"px)",transform:"translateX("+e+"px)"})}function m(e){J||(v(e),J=!0,p(),setTimeout(function(){X&&(M=g(),C("remove"),p(),C("add")),J=!1,u("slider_moved"),Q||y()},q.speed),u("slider_moving"),h())}function v(e){e==ee?(q.centered&&(M-=(q.sliderContainer.offsetWidth-F[q.currentSet-1])/2),
"mixed"==q.slideAmount?M-=F[q.currentSet-1]:M-=q.slideAmount,q.looping&&q.currentSet==I?(X=!0,q.currentSet=1):q.currentSet++,q.centered&&(M+=(q.sliderContainer.offsetWidth-F[q.currentSet-1])/2)):e==te?(q.centered&&(M-=(q.sliderContainer.offsetWidth-F[q.currentSet-1])/2),q.looping&&1==q.currentSet?(X=!0,q.currentSet=I):q.currentSet--,q.centered&&(M+=(q.sliderContainer.offsetWidth-F[q.currentSet-1])/2),"mixed"==q.slideAmount?M+=F[q.currentSet-1]:M+=q.slideAmount):(q.currentSet=e,M=g())}function g(){for(var e=0,t=0;t<q.currentSet-1;t++)e+=F[t];return q.centered&&(e-=(q.sliderContainer.offsetWidth-F[q.currentSet-1])/2),q.budge+-1*e}function h(){if(q.looping||(a(H,"disabled"),a(N,"disabled"),q.currentSet>1&&r(H,"disabled"),q.scrollBySet?o.currentSet<I&&r(N,"disabled"):q.currentSet+q.itemsVisible<B+1&&r(N,"disabled")),q.quickLinks){try{r(t("li.current",q.paginator),"current")}catch(e){}a(t("li:nth-child("+q.currentSet+")",q.paginator),"current")}Array.prototype.forEach.call(l(q.sliderInner),function(e,t){r(e,"a17s_visible")});for(var e="",n=0;n<q.itemsVisible;n++)n>0&&(e+=","),e+="li["+ne+'="'+((q.currentSet-1)*q.itemsVisible+n)+'"]';var c=t(e,q.sliderInner);void 0===c.length&&(c=[c]),Array.prototype.forEach.call(c,function(e,t){if(a(e,"a17s_visible"),s(e,"slideshow-ad")&&e.hasAttribute("data-a17slider-dupe")&&!e.hasAttribute("data-slideshow-active")){var n=dfp.slideshow.name+i(e,"data-slideshow-count");dfp.slideshow.count++;var o="slideshow"+dfp.slideshow.count,r=document.createElement("div");r.id=n,e.children[0].children[0].children[0].appendChild(r),googletag.cmd.push(function(){gptadslots.push(googletag.defineSlot(dfp.adUnit,dfp.slideshow.sizes,n).defineSizeMapping(dfp.slideshow.mapping).setTargeting("position",o).addService(googletag.pubads())),googletag.display(n)}),i(e,"data-slideshow-active","")}})}function y(){q.automate&&(clearTimeout(O),O=setTimeout(w,q.interval))}function b(){clearTimeout(O),Q=!0}function w(){m("right")}function _(){if(1==q.currentSet&&1==I)N.style.display="none",H.style.display="none",q.paginator.style.display="none";else{if(q.quickLinks){for(var e="",n=q.scrollBySet?I:B,i=0;i<n;i++)"bull"==q.quickLinksChar?e+='<li><a href="#">&bull;</a></li>':e=e+'<li><a href="#">'+(i+1)+"</a></li>";q.paginator.innerHTML=e+q.paginator.innerHTML,N=t("li.next a",q.paginator),H=t("li.prev a",q.paginator)}h(),O=setTimeout(y,50)}}function S(){if(1!=q.currentSet||1!=I){if(H.addEventListener("click",function(e){e.preventDefault(),q.looping?m("left"):s(this,"disabled")||m("left")},!1),N.addEventListener("click",function(e){e.preventDefault(),q.looping?m("right"):s(this,"disabled")||m("right")},!1),q.quickLinks){var e=t("li:not(.next):not(.prev) a",q.paginator);Array.prototype.forEach.call(e,function(e,t){e.addEventListener("click",function(e){e.preventDefault(),t<I&&!s(this.parentNode,"current")&&m(t+1)})})}q.sliderContainer.addEventListener("mouseenter",function(){clearTimeout(O),Q=!0},!1),q.sliderContainer.addEventListener("mouseleave",function(){y(),Q=!1},!1),q.keyControls&&(document.addEventListener("keydown",function(e){switch(e.keyCode){case 37:a(H,"active");break;case 39:a(N,"active")}},!1),document.addEventListener("keyup",function(e){switch(e.keyCode){case 37:r(H,"active"),q.looping?m("left"):s(H,"disabled")||m("left");break;case 39:r(N,"active"),q.looping?m("right"):s(N,"disabled")||m("right")}})),q.swipable&&(q.sliderInner.addEventListener("mousedown",function(e){e.preventDefault(),D=document.all?window.event.clientX:e.pageX,R=document.all?window.event.clientY:e.pageY,A()},!1),document.addEventListener("mousemove",function(e){k(document.all?window.event.clientX:e.pageX,document.all?window.event.clientY:e.pageY)},!1),document.addEventListener("mouseup",function(e){E()},!1),q.sliderInner.addEventListener("touchstart",function(e){D=e.touches[0].clientX,R=e.touches[0].clientY,A()},!1),q.sliderInner.addEventListener("touchmove",function(e){k(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}),q.sliderInner.addEventListener("touchend",function(e){E()},!1)),Array.prototype.forEach.call(z,function(e,t){var n=e.querySelectorAll("a");Array.prototype.forEach.call(n,function(t,n){t.addEventListener("focus",function(t){q.sliderContainer.scrollLeft=0,setTimeout(function(){q.sliderContainer.scrollLeft=0},0),clearTimeout(O);var n=parseInt(i(e,ne))||-1;n&&(q.itemsVisible>1&&(n=Math.floor(n/q.itemsVisible)),m(n+1))})})})}}function C(e){q.sliderInner.offsetHeight;"add"===e?a(q.sliderInner,"a17s_transition"):r(q.sliderInner,"a17s_transition");q.sliderInner.offsetHeight}function A(e){C("remove"),Y=!0,b(),n(q.sliderInner,"cursor","-webkit-grabbing")}function k(e,t){if(Y){if(!D||!R)return;if(U=D-e,W=R-t,!(Math.abs(U)>Math.abs(W)))return;U>0?(s(N,"disabled")&&(U=T(U)),p(M-U)):U<0&&(s(H,"disabled")&&(U=T(U)),p(M-U))}}function E(){if(Y){if(Y=!1,C("add"),n(q.sliderInner,"cursor","-webkit-grab"),!D||!R||void 0===U||void 0===W)return;Math.abs(U)>Math.abs(W)&&(Math.abs(U)<=q.swipeThreshold?(p(),y()):U>q.swipeThreshold&&!s(N,"disabled")?m("right"):U<-1*q.swipeThreshold&&!s(H,"disabled")?m("left"):(p(),y())),x()}}function x(){D=void 0,R=void 0,U=void 0,W=void 0}function L(e){Array.prototype.forEach.call(e.querySelectorAll("a"),function(e,t){e.tabIndex=-1})}function T(e){return e*(1/(Math.abs(e)/75+1))}var q,$,M,N,H,B,I,O,z,F,j,P,D,R,U,W,V,G={sliderContainer:void 0,sliderInner:void 0,slideAmount:void 0,paginator:void 0,itemsVisible:1,scrollBySet:!1,cloneAll:!1,currentSet:1,budge:0,centered:!1,looping:!0,automate:!1,interval:5e3,quickLinks:!0,speed:250,quickLinksChar:"bull",keyControls:!0,swipable:!0,swipeThreshold:150},K=this,X=!1,Q=!1,J=!1,Y=!1,Z=0!=t("html[dir=rtl]",document).length,ee=0==t("html[dir=rtl]",document).length?"right":"left",te=0==t("html[dir=rtl]",document).length?"left":"right",ne="data-a17slider-position",ie="data-a17slider-dupe";return K.move=function(e){m(e)},K.currentSet=function(){return G.currentSet},K.destroy=function(){q.sliderContainer.innerHTML=$,delete K.move,delete K.currentSet,delete K.destroy,u("slider_destroyed"),K=null},function(){q=G,e=e||{};for(var o in q)void 0!==e[o]&&(q[o]=e[o]);if(void 0==q.sliderContainer||void 0==q.sliderInner||void 0==q.paginator)return void("object"==typeof console&&console.warn("a17_slider: no sliderContainer, sliderInner or paginator specified"));if($=q.sliderContainer.innerHTML,M=0,N=t("li.next a",q.paginator),H=t("li.prev a",q.paginator),B=c(q.sliderInner),I=Math.ceil(B/q.itemsVisible),z=l(q.sliderInner),F=[],j=Math.round(B/2)-1,P=0,void 0===q.slideAmount&&(q.slideAmount=q.sliderContainer.offsetWidth),q.automate&&(q.looping=!0),"mixed"==q.slideAmount?(q.looping=!0,q.cloneAll=!0,q.itemsVisible=1,q.scrollBySet=!1):q.slideAmount<q.sliderContainer.offsetWidth&&(q.cloneAll=!0,q.looping=!0),q.currentSet>I&&(q.currentSet=1),q.scrollBySet&&1===q.itemsVisible&&(q.scrollBySet=!1),q.interval=1e3*q.interval,"mixed"==q.slideAmount?Array.prototype.forEach.call(z,function(e,t){var n=1*i(e,"width")||e.offsetWidth;F.push(n),P+=n}):(Array.prototype.forEach.call(z,function(e,t){F.push(q.slideAmount)}),P=q.scrollBySet?q.slideAmount*I:q.slideAmount*B),Array.prototype.forEach.call(z,function(e,t){i(e,ne,t)}),q.looping&&1==q.itemsVisible&&B>q.itemsVisible&&!q.centered&&!q.cloneAll){var a=t("li:first-child",q.sliderInner).cloneNode(!0),r=t("li:last-child",q.sliderInner).cloneNode(!0);i(a,ie,""),i(r,ie,""),L(a),L(r),q.sliderInner.appendChild(a),q.sliderInner.insertBefore(r,q.sliderInner.firstChild),z=l(q.sliderInner),q.budge=q.budge-F[0]}else if(q.looping&&B>q.itemsVisible||q.centered||q.cloneAll){for(var s=1;s<=q.itemsVisible;s++){var f=B%q.itemsVisible;if(1*f>0){var m=document.createElement("li");m.className="blank",z.push(m),B=z.length}}var v=[],h=[];Array.prototype.forEach.call(z,function(e,t){var n=e.cloneNode(!0);t<q.itemsVisible&&!q.cloneAll&&(i(n,ie,""),L(n),v.push(n)),t>=B-q.itemsVisible&&!q.cloneAll&&(i(n,ie,""),L(n),h.push(n)),q.cloneAll&&(i(e,ie,""),L(n),v.push(n),h.push(n))}),z=h.concat(z,v);var y="";Array.prototype.forEach.call(z,function(e,t){y+=e.outerHTML}),q.sliderInner.innerHTML=y,z=l(q.sliderInner),q.cloneAll?q.budge=q.budge-P:q.budge=q.budge-F[0]}d(),M=g(),p(),C("add"),q.swipable&&n(q.sliderInner,"cursor","-webkit-grab"),_(),S(),u("slider_setup_complete")}(),K}}(),function(){function e(e,t){function n(e,t){return c.getComputedStyle||(c.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),c.getComputedStyle(e,null).getPropertyValue(t)}function i(t){var n=t||e.clientHeight,i=o(e);return Math.max(Math.floor(n/i),0)}function o(e){var t=n(e,"line-height");return"normal"==t&&(t=1.2*parseInt(n(e,"font-size"))),parseInt(t)}function a(t){return t.lastChild.children&&t.lastChild.children.length>0?a(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!=t.lastChild.nodeValue&&t.lastChild.nodeValue!=u.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),a(e))}function r(t,n){if(n){var i=t.nodeValue.replace(u.truncationChar,"");if(g||(b=y.length>0?y.shift():"",g=i.split(b)),g.length>1?(h=g.pop(),s(t,g.join(b))):g=null,l&&(t.nodeValue=t.nodeValue.replace(u.truncationChar,""),e.innerHTML=t.nodeValue+" "+l.innerHTML+u.truncationChar),g){if(e.clientHeight<=n){if(!(y.length>=0&&""!=b))return e.innerHTML;s(t,g.join(b)+b+h),g=null}}else""==b&&(s(t,""),t=a(e),function(){y=u.splitOnChars.slice(0),b=y[0],g=null,h=null}());if(!u.animate)return r(t,n);setTimeout(function(){r(t,n)},!0===u.animate?10:u.animate)}}function s(e,t){e.nodeValue=t+u.truncationChar}t=t||{};var l,c=window,u={clamp:t.clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},d=e.style,p=e.innerHTML,f=void 0!==e.style.webkitLineClamp,m=u.clamp,v=m.indexOf&&(m.indexOf("px")>-1||m.indexOf("em")>-1);u.truncationHTML&&(l=document.createElement("span"),l.innerHTML=u.truncationHTML);var g,h,y=u.splitOnChars.slice(0),b=y[0];"auto"==m?m=i():v&&(m=i(parseInt(m)));var w;if(f&&u.useNativeClamp)d.overflow="hidden",d.textOverflow="ellipsis",d.webkitBoxOrient="vertical",d.display="-webkit-box",d.webkitLineClamp=m,v&&(d.height=u.clamp+"px");else{var _=function(t){return o(e)*t}(m);_<=e.clientHeight&&(w=r(a(e),_))}return{original:p,clamped:w}}window.$clamp=e}(),function(e,t){"use strict";var n={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},i=["display:block","position:absolute","top:-999px","left:-999px","font-size:48px","width:auto","height:auto","line-height:normal","margin:0","padding:0","font-variant:normal","white-space:nowrap"],o='<div style="%s">AxmTYklsjo190QW</div>',a=function(){this.fontFamily="",this.appended=!1,this.serif=void 0,this.sansSerif=void 0,this.parent=void 0,this.options={}};a.prototype.getMeasurements=function(){return{sansSerif:{width:this.sansSerif.offsetWidth,height:this.sansSerif.offsetHeight},serif:{width:this.serif.offsetWidth,height:this.serif.offsetHeight}}},a.prototype.load=function(){function n(e){return i.concat(["font-weight:"+m.weight,"font-style:"+m.style]).concat("font-family:"+e).join(";")}function a(e,t,n){return Math.abs(e.width-t.offsetWidth)>n||Math.abs(e.height-t.offsetHeight)>n}function r(){return(new Date).getTime()-l.getTime()>m.timeout}var s,l=new Date,c=this,u=c.serif,d=c.sansSerif,p=c.parent,f=c.appended,m=this.options,v=m.reference,g=o.replace(/\%s/,n("sans-serif")),h=o.replace(/\%s/,n("serif"));p||(p=c.parent=t.createElement("div")),p.innerHTML=g+h,d=c.sansSerif=p.firstChild,u=c.serif=d.nextSibling,m.glyphs&&(d.innerHTML+=m.glyphs,u.innerHTML+=m.glyphs),function n(){v||(v=t.body),!f&&v&&(v.appendChild(p),f=c.appended=!0,s=c.getMeasurements(),d.style.fontFamily=c.fontFamily+", sans-serif",u.style.fontFamily=c.fontFamily+", serif"),f&&s&&(a(s.sansSerif,d,m.tolerance)||a(s.serif,u,m.tolerance))?m.success():r()?m.error():!f&&"requestAnimationFrame"in window?e.requestAnimationFrame(n):e.setTimeout(n,m.delay)}()},a.prototype.cleanFamilyName=function(e){return e.replace(/[\'\"]/g,"").toLowerCase()},a.prototype.cleanWeight=function(e){return""+({normal:"400",bold:"700"}[e]||e)},a.prototype.checkFontFaces=function(n){var i=this;t.fonts.forEach(function(t){i.cleanFamilyName(t.family)===i.cleanFamilyName(i.fontFamily)&&i.cleanWeight(t.weight)===i.cleanWeight(i.options.weight)&&t.style===i.options.style&&t.load().then(function(){i.options.success(),e.clearTimeout(n)})})},a.prototype.init=function(i,o){var a;for(var r in n)o.hasOwnProperty(r)||(o[r]=n[r]);this.options=o,this.fontFamily=i,!o.glyphs&&"fonts"in t?(o.timeout&&(a=e.setTimeout(function(){o.error()},o.timeout)),this.checkFontFaces(a)):this.load()};var r=function(e,t){var n=new a;return n.init(e,t),n};e.FontFaceOnload=r}(this,this.document),function(e){var t=function(e,t,n){var i,o,a,r,s={},l=0,c=0,u={sensitivity:7,interval:100,timeout:0},d=function(e){u=p(e||{},u)},p=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e},f=function(e,t,n){e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)},m=function(e,t,n){e.detachEvent?(e.detachEvent("on"+t,e[t+n]),e[t+n]=null):e.removeEventListener(t,n,!1)},v=function(e){i=e.clientX,o=e.clientY},g=function(e,t,n){return c&&(c=clearTimeout(c)),l=0,t.call(e,n)},h=function(t,n,i){var o=function(e){v(e)};return c&&(c=clearTimeout(c)),i?(a=t.clientX,r=t.clientY,f(e,"mousemove",o),1!==l&&(c=setTimeout(function(){y(e,n,t)},u.interval))):(m(e,"mousemove",o),1===l&&(c=setTimeout(function(){g(e,n,t)},u.timeout))),this},y=function(e,t,n){if(c&&(c=clearTimeout(c)),Math.abs(a-i)+Math.abs(r-o)<u.sensitivity)return l=1,t.call(e,n);a=i,r=o,c=setTimeout(function(){y(e,t,n)},u.interval)};s.options=function(e){d(e)};var b=function(e){h(e,t,!0)},w=function(e){h(e,n)};return s.remove=function(){e&&(m(e,"mouseover",b),m(e,"mouseout",w))},e&&(f(e,"mouseover",b),f(e,"mouseout",w)),d(),s};e.hoverintent=t,"undefined"!=typeof module&&module.exports&&(module.exports=t)}(this),window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e,t,n){"use strict";function i(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t:"function"==typeof define&&define.amd&&define("picturefill",function(){return t}),"object"==typeof e&&(e.picturefill=t)}function o(e){var t,n,i,o,s,l=e||{};t=l.elements||a.getAllElements();for(var c=0,u=t.length;c<u;c++)if(n=t[c],i=n.parentNode,o=void 0,s=void 0,"IMG"===n.nodeName.toUpperCase()&&(n[a.ns]||(n[a.ns]={}),l.reevaluate||!n[a.ns].evaluated)){if(i&&"PICTURE"===i.nodeName.toUpperCase()){if(a.removeVideoShim(i),!1===(o=a.getMatch(n,i)))continue}else o=void 0;(i&&"PICTURE"===i.nodeName.toUpperCase()||!a.sizesSupported&&n.srcset&&r.test(n.srcset))&&a.dodgeSrcset(n),o?(s=a.processSourceSet(o),a.applyBestCandidate(s,n)):(s=a.processSourceSet(n),(void 0===n.srcset||n[a.ns].srcset)&&a.applyBestCandidate(s,n)),n[a.ns].evaluated=!0}}if(e.HTMLPictureElement)return void i(function(){});t.createElement("picture");var a=e.picturefill||{},r=/\s+\+?\d+(e\d+)?w/;a.ns="picturefill",function(){a.srcsetSupported="srcset"in n,a.sizesSupported="sizes"in n,a.curSrcSupported="currentSrc"in n}(),a.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},a.makeUrl=function(){var e=t.createElement("a");return function(t){return e.href=t,e.href}}(),a.restrictsMixedContent=function(){return"https:"===e.location.protocol},a.matchesMedia=function(t){return e.matchMedia&&e.matchMedia(t).matches},a.getDpr=function(){return e.devicePixelRatio||1},a.getWidthFromLength=function(e){var n;if(!e||e.indexOf("%")>-1!=!1||!(parseFloat(e)>0||e.indexOf("calc(")>-1))return!1;e=e.replace("vw","%"),a.lengthEl||(a.lengthEl=t.createElement("div"),a.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",a.lengthEl.className="helper-from-picturefill-js"),a.lengthEl.style.width="0px";try{a.lengthEl.style.width=e}catch(e){}return t.body.appendChild(a.lengthEl),n=a.lengthEl.offsetWidth,n<=0&&(n=!1),t.body.removeChild(a.lengthEl),n},a.detectTypeSupport=function(t,n){var i=new e.Image;return i.onerror=function(){a.types[t]=!1,o()},i.onload=function(){a.types[t]=1===i.width,o()},i.src=n,"pending"},a.types=a.types||{},a.initTypeDetects=function(){a.types["image/jpeg"]=!0,a.types["image/gif"]=!0,a.types["image/png"]=!0,a.types["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),a.types["image/webp"]=a.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},a.verifyTypeSupport=function(e){var t=e.getAttribute("type");if(null===t||""===t)return!0;var n=a.types[t];return"string"==typeof n&&"pending"!==n?(a.types[t]=a.detectTypeSupport(t,n),"pending"):"function"==typeof n?(n(),"pending"):n},a.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},a.findWidthFromSourceSize=function(n){for(var i,o=a.trim(n).split(/\s*,\s*/),r=0,s=o.length;r<s;r++){var l=o[r],c=a.parseSize(l),u=c.length,d=c.media;if(u&&((!d||a.matchesMedia(d))&&(i=a.getWidthFromLength(u))))break}return i||Math.max(e.innerWidth||0,t.documentElement.clientWidth)},a.parseSrcset=function(e){for(var t=[];""!==e;){e=e.replace(/^\s+/g,"");var n,i=e.search(/\s/g),o=null;if(-1!==i){n=e.slice(0,i);if(","!==n.slice(-1)&&""!==n||(n=n.replace(/,+$/,""),o=""),e=e.slice(i+1),null===o){var a=e.indexOf(",");-1!==a?(o=e.slice(0,a),e=e.slice(a+1)):(o=e,e="")}}else n=e,e="";(n||o)&&t.push({url:n,descriptor:o})}return t},a.parseDescriptor=function(e,t){var n,i=t||"100vw",o=e&&e.replace(/(^\s+|\s+$)/g,""),r=a.findWidthFromSourceSize(i);if(o)for(var s=o.split(" "),l=s.length-1;l>=0;l--){var c=s[l],u=c&&c.slice(c.length-1);if("h"!==u&&"w"!==u||a.sizesSupported){if("x"===u){var d=c&&parseFloat(c,10);n=d&&!isNaN(d)?d:1}}else n=parseFloat(parseInt(c,10)/r)}return n||1},a.getCandidatesFromSourceSet=function(e,t){for(var n=a.parseSrcset(e),i=[],o=0,r=n.length;o<r;o++){var s=n[o];i.push({url:s.url,resolution:a.parseDescriptor(s.descriptor,t)})}return i},a.dodgeSrcset=function(e){e.srcset&&(e[a.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[a.ns].srcset))},a.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),i=[];return"IMG"===e.nodeName.toUpperCase()&&e[a.ns]&&e[a.ns].srcset&&(t=e[a.ns].srcset),t&&(i=a.getCandidatesFromSourceSet(t,n)),i},a.backfaceVisibilityFix=function(e){var t=e.style||{},n="webkitBackfaceVisibility"in t,i=t.zoom;n&&(t.zoom=".999",n=e.offsetWidth,t.zoom=i)},a.setIntrinsicSize=function(){var n={},i=function(e,t,n){t&&e.setAttribute("width",parseInt(t/n,10))};return function(o,r){var s;o[a.ns]&&!e.pfStopIntrinsicSize&&(void 0===o[a.ns].dims&&(o[a.ns].dims=o.getAttribute("width")||o.getAttribute("height")),o[a.ns].dims||(r.url in n?i(o,n[r.url],r.resolution):(s=t.createElement("img"),s.onload=function(){if(n[r.url]=s.width,!n[r.url])try{t.body.appendChild(s),n[r.url]=s.width||s.offsetWidth,t.body.removeChild(s)}catch(e){}o.src===r.url&&i(o,n[r.url],r.resolution),o=null,s.onload=null,s=null},s.src=r.url)))}}(),a.applyBestCandidate=function(e,t){var n,i,o;e.sort(a.ascendingSort),i=e.length,o=e[i-1];for(var r=0;r<i;r++)if(n=e[r],n.resolution>=a.getDpr()){o=n;break}o&&(o.url=a.makeUrl(o.url),t.src!==o.url&&(a.restrictsMixedContent()&&"http:"===o.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+o.url):(t.src=o.url,a.curSrcSupported||(t.currentSrc=t.src),a.backfaceVisibilityFix(t))),a.setIntrinsicSize(t,o))},a.ascendingSort=function(e,t){return e.resolution-t.resolution},a.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var n=t[0],i=n.getElementsByTagName("source");i.length;)e.insertBefore(i[0],n);n.parentNode.removeChild(n)}},a.getAllElements=function(){for(var e=[],n=t.getElementsByTagName("img"),i=0,o=n.length;i<o;i++){var r=n[i];("PICTURE"===r.parentNode.nodeName.toUpperCase()||null!==r.getAttribute("srcset")||r[a.ns]&&null!==r[a.ns].srcset)&&e.push(r)}return e},a.getMatch=function(e,t){for(var n,i=t.childNodes,o=0,r=i.length;o<r;o++){var s=i[o];if(1===s.nodeType){if(s===e)return n;if("SOURCE"===s.nodeName.toUpperCase()){null!==s.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var l=s.getAttribute("media");if(s.getAttribute("srcset")&&(!l||a.matchesMedia(l))){var c=a.verifyTypeSupport(s);if(!0===c){n=s;break}if("pending"===c)return!1}}}}return n},function(){function n(){clearTimeout(i),i=setTimeout(s,60)}a.initTypeDetects(),o();var i,r=setInterval(function(){if(o(),/^loaded|^i|^c/.test(t.readyState))return void clearInterval(r)},250),s=function(){o({reevaluate:!0})};e.addEventListener?e.addEventListener("resize",n,!1):e.attachEvent&&e.attachEvent("onresize",n)}(),o._=a,i(o)}(window,window.document,new window.Image),function(e){"use strict";function t(){var e=["<div class='player-controls'>","<div class='player-progress'>","<label for='seek{id}' class='sr-only'>Seek</label>","<input id='seek{id}' class='player-progress-seek' type='range' min='0' max='100' step='0.5' value='0' data-player='seek'>","<progress class='player-progress-played' max='100' value='0'>","<span>0</span>% played","</progress>","<progress class='player-progress-buffer' max='100' value='0'>","<span>0</span>% buffered","</progress>","</div>","<span class='player-controls-left'>"];return a(A.controls,"restart")&&e.push("<button type='button' data-player='restart'>","<svg><use xlink:href='#icon-restart'></use></svg>","<span class='sr-only'>Restart</span>","</button>"),a(A.controls,"rewind")&&e.push("<button type='button' data-player='rewind'>","<svg><use xlink:href='#icon-rewind'></use></svg>","<span class='sr-only'>Rewind {seektime} secs</span>","</button>"),a(A.controls,"play")&&e.push("<button type='button' data-player='play'>","<svg><use xlink:href='#icon-play'></use></svg>","<span class='sr-only'>Play</span>","</button>","<button type='button' data-player='pause'>","<svg><use xlink:href='#icon-pause'></use></svg>","<span class='sr-only'>Pause</span>","</button>"),a(A.controls,"fast-forward")&&e.push("<button type='button' data-player='fast-forward'>","<svg><use xlink:href='#icon-fast-forward'></use></svg>","<span class='sr-only'>Forward {seektime} secs</span>","</button>"),a(A.controls,"current-time")&&e.push("<span class='player-time'>","<span class='sr-only'>Current time</span>","<span class='player-current-time'>00:00</span>","</span>"),a(A.controls,"duration")&&e.push("<span class='player-time'>","<span class='sr-only'>Duration</span>","<span class='player-duration'>00:00</span>","</span>"),e.push("</span>","<span class='player-controls-right'>"),a(A.controls,"mute")&&e.push("<input class='inverted sr-only' id='mute{id}' type='checkbox' data-player='mute'>","<label id='mute{id}' for='mute{id}'>","<svg class='icon-muted'><use xlink:href='#icon-muted'></use></svg>","<svg><use xlink:href='#icon-volume'></use></svg>","<span class='sr-only'>Toggle Mute</span>","</label>"),a(A.controls,"volume")&&e.push("<label for='volume{id}' class='sr-only'>Volume</label>","<input id='volume{id}' class='player-volume' type='range' min='0' max='10' value='5' data-player='volume'>"),a(A.controls,"captions")&&e.push("<input class='sr-only' id='captions{id}' type='checkbox' data-player='captions'>","<label for='captions{id}'>","<svg class='icon-captions-on'><use xlink:href='#icon-captions-on'></use></svg>","<svg><use xlink:href='#icon-captions-off'></use></svg>","<span class='sr-only'>Toggle Captions</span>","</label>"),a(A.controls,"fullscreen")&&e.push("<button type='button' data-player='fullscreen'>","<svg class='icon-exit-fullscreen'><use xlink:href='#icon-exit-fullscreen'></use></svg>","<svg><use xlink:href='#icon-enter-fullscreen'></use></svg>","<span class='sr-only'>Toggle Fullscreen</span>","</button>"),e.push("</span>","</div>"),e.join("")}function n(e,t){A.debug&&window.console&&console[t?"error":"log"](e)}function i(){var e,t,n,i=navigator.userAgent,o=navigator.appName,a=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(o="IE",a="11;"):-1!==(t=i.indexOf("MSIE"))?(o="IE",a=i.substring(t+5)):-1!==(t=i.indexOf("Chrome"))?(o="Chrome",a=i.substring(t+7)):-1!==(t=i.indexOf("Safari"))?(o="Safari",a=i.substring(t+7),-1!==(t=i.indexOf("Version"))&&(a=i.substring(t+8))):-1!==(t=i.indexOf("Firefox"))?(o="Firefox",a=i.substring(t+8)):(e=i.lastIndexOf(" ")+1)<(t=i.lastIndexOf("/"))&&(o=i.substring(e,t),a=i.substring(t+1),o.toLowerCase()==o.toUpperCase()&&(o=navigator.appName)),-1!==(n=a.indexOf(";"))&&(a=a.substring(0,n)),-1!==(n=a.indexOf(" "))&&(a=a.substring(0,n)),r=parseInt(""+a,10),isNaN(r)&&(a=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),{name:o,version:r,ios:/(iPad|iPhone|iPod)/g.test(navigator.platform)}}function o(e,t){var n=e.media;if("video"==e.type)switch(t){case"video/webm":return!(!n.canPlayType||!n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!n.canPlayType||!n.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!n.canPlayType||!n.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"==e.type)switch(t){case"audio/mpeg":return!(!n.canPlayType||!n.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!n.canPlayType||!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!n.canPlayType||!n.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}function a(e,t){return Array.prototype.indexOf&&-1!=e.indexOf(t)}function r(e,t,n){return e.replace(new RegExp(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),n)}function s(e,t){e.length||(e=[e]);for(var n=e.length-1;n>=0;n--){var i=n>0?t.cloneNode(!0):t,o=e[n],a=o.parentNode,r=o.nextSibling;i.appendChild(o),r?a.insertBefore(i,r):a.appendChild(i)}}function l(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function c(e){e.parentNode.removeChild(e)}function u(e,t){e.insertBefore(t,e.firstChild)}function d(e,t){for(var n in t)e.setAttribute(n,t[n])}function p(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(/\s+/g," ").replace(" "+t+" ","");e.className=i+(n?" "+t:"")}}function f(e,t,n,i){var o=t.split(" ");if(e instanceof NodeList)for(var a=0;a<e.length;a++)e[a]instanceof Node&&f(e[a],arguments[1],arguments[2],arguments[3]);else for(var r=0;r<o.length;r++)e[i?"addEventListener":"removeEventListener"](o[r],n,!1)}function m(e,t,n){e&&f(e,t,n,!0)}function v(e,t,n){e&&f(e,t,n,!1)}function g(e,t){var n=document.createEvent("MouseEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function h(e){if(e.keyCode&&13!=e.keyCode)return!0;e.target.checked=!e.target.checked,g(e.target,"change")}function y(e,t){return 0===e||0===t||isNaN(e)||isNaN(t)?0:(e/t*100).toFixed(2)}function b(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},b(e[n],t[n])):e[n]=t[n];return e}function w(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},t="webkit moz o ms khtml".split(" ");if(void 0!==document.cancelFullScreen)e.supportsFullScreen=!0;else for(var n=0,i=t.length;n<i;n++){if(e.prefix=t[n],void 0!==document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}if(void 0!==document.msExitFullscreen&&document.msFullscreenEnabled){e.prefix="ms",e.supportsFullScreen=!0;break}}return"webkit"===e.prefix&&navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(e.supportsFullScreen=!1),e.supportsFullScreen&&(e.fullScreenEventName="ms"==e.prefix?"MSFullscreenChange":e.prefix+"fullscreenchange",e.isFullScreen=function(e){switch(void 0===e&&(e=document),this.prefix){case"":return document.fullscreenElement==e;case"moz":return document.mozFullScreenElement==e;default:return document[this.prefix+"FullscreenElement"]==e}},e.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]("webkit"===this.prefix?e.ALLOW_KEYBOARD_INPUT:null)},e.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},e.element=function(){return""===this.prefix?document.fullscreenElement:document[this.prefix+"FullscreenElement"]}),e}function _(){return{supported:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}()}}function S(a){function b(e){if(!ce.usingTextTracks&&"video"===ce.type&&ce.supported.full){for(ce.subcount=0,e="number"==typeof e?e:ce.media.currentTime;E(ce.captions[ce.subcount][0])<e.toFixed(1);)if(++ce.subcount>ce.captions.length-1){ce.subcount=ce.captions.length-1;break}ce.media.currentTime.toFixed(1)>=k(ce.captions[ce.subcount][0])&&ce.media.currentTime.toFixed(1)<=E(ce.captions[ce.subcount][0])?(ce.currentCaption=ce.captions[ce.subcount][1],ce.captionsContainer.innerHTML=ce.currentCaption):ce.captionsContainer.innerHTML=""}}function S(){ce.buttons.captions&&(p(ce.container,A.classes.captions.enabled,!0),A.captions.defaultActive&&(p(ce.container,A.classes.captions.active,!0),ce.buttons.captions.checked=!0))}function k(e){var t=[];return t=e.split(" --\x3e "),x(t[0])}function E(e){var t=[];return t=e.split(" --\x3e "),x(t[1])}function x(e){if(null===e||void 0===e)return 0;var t=[],n=[];return t=e.split(","),n=t[0].split(":"),Math.floor(60*n[0]*60)+Math.floor(60*n[1])+Math.floor(n[2])}function L(e){return ce.container.querySelectorAll(e)}function T(e){return L(e)[0]}function q(){try{return window.self!==window.top}catch(e){return!0}}function M(){var e=A.html;if(n("Injecting custom controls."),e||(e=t()),e=r(e,"{seektime}",A.seekTime),e=r(e,"{id}",Math.floor(1e4*Math.random())),ce.container.insertAdjacentHTML("beforeend",e),A.tooltips)for(var i=L(A.selectors.labels),o=i.length-1;o>=0;o--){var a=i[o];p(a,A.classes.hidden,!1),p(a,A.classes.tooltip,!0)}}function N(){try{return ce.controls=T(A.selectors.controls),ce.buttons={},ce.buttons.seek=T(A.selectors.buttons.seek),ce.buttons.play=T(A.selectors.buttons.play),ce.buttons.pause=T(A.selectors.buttons.pause),ce.buttons.restart=T(A.selectors.buttons.restart),ce.buttons.rewind=T(A.selectors.buttons.rewind),ce.buttons.forward=T(A.selectors.buttons.forward),ce.buttons.fullscreen=T(A.selectors.buttons.fullscreen),ce.buttons.mute=T(A.selectors.buttons.mute),ce.buttons.captions=T(A.selectors.buttons.captions),ce.checkboxes=L("[type='checkbox']"),ce.progress={},ce.progress.container=T(A.selectors.progress.container),ce.progress.buffer={},ce.progress.buffer.bar=T(A.selectors.progress.buffer),
ce.progress.buffer.text=ce.progress.buffer.bar&&ce.progress.buffer.bar.getElementsByTagName("span")[0],ce.progress.played={},ce.progress.played.bar=T(A.selectors.progress.played),ce.progress.played.text=ce.progress.played.bar&&ce.progress.played.bar.getElementsByTagName("span")[0],ce.volume=T(A.selectors.buttons.volume),ce.duration=T(A.selectors.duration),ce.currentTime=L(A.selectors.currentTime),ce.seekTime=L(A.selectors.seekTime),!0}catch(e){return n("It looks like there's a problem with your controls html. Bailing.",!0),ce.media.setAttribute("controls",""),!1}}function H(){if(ce.buttons.play){var e=ce.buttons.play.innerText||"Play";void 0!==A.title&&A.title.length&&(e+=", "+A.title),ce.buttons.play.setAttribute("aria-label",e)}}function B(){if(!ce.media)return n("No audio or video element found!",!0),!1;if(ce.supported.full&&(ce.media.removeAttribute("controls"),p(ce.container,A.classes[ce.type],!0),p(ce.container,A.classes.stopped,null===ce.media.getAttribute("autoplay")),ce.browser.ios&&p(ce.container,"ios",!0),"video"===ce.type)){var e=document.createElement("div");e.setAttribute("class",A.classes.videoWrapper),s(ce.media,e),ce.videoContainer=e}null!==ce.media.getAttribute("autoplay")&&z()}function I(){if("video"===ce.type){ce.videoContainer.insertAdjacentHTML("afterbegin","<div class='"+A.selectors.captions.replace(".","")+"'></div>"),ce.captionsContainer=T(A.selectors.captions),ce.usingTextTracks=!1,ce.media.textTracks&&(ce.usingTextTracks=!0);for(var e="",t=ce.media.childNodes,i=0;i<t.length;i++)"track"===t[i].nodeName.toLowerCase()&&"captions"===t[i].getAttribute("kind")&&(e=t[i].getAttribute("src"));if(ce.captionExists=!0,""===e?(ce.captionExists=!1,n("No caption track found.")):n("Caption track found; URI: "+e),ce.captionExists){for(var o=ce.media.textTracks,a=0;a<o.length;a++)o[a].mode="hidden";if(S(ce),("IE"===ce.browser.name&&ce.browser.version>=10||"Firefox"===ce.browser.name&&ce.browser.version>=31||"Chrome"===ce.browser.name&&ce.browser.version>=43||"Safari"===ce.browser.name&&ce.browser.version>=7)&&(n("Detected unsupported browser for HTML5 captions. Using fallback."),ce.usingTextTracks=!1),ce.usingTextTracks){n("TextTracks supported.");for(var r=0;r<o.length;r++){var s=o[r];"captions"===s.kind&&m(s,"cuechange",function(){ce.captionsContainer.innerHTML="",this.activeCues[0]&&this.activeCues[0].hasOwnProperty("text")&&ce.captionsContainer.appendChild(this.activeCues[0].getCueAsHTML())})}}else if(n("TextTracks not supported so rendering captions manually."),ce.currentCaption="",ce.captions=[],""!==e){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status){var e,t=[],i=l.responseText;t=i.split("\n\n");for(var o=0;o<t.length;o++)e=t[o],ce.captions[o]=[],ce.captions[o]=e.split("\n");ce.captions.shift(),n("Successfully loaded the caption file via AJAX.")}else n("There was a problem loading the caption file via AJAX.",!0)},l.open("get",e,!0),l.send()}if("Safari"===ce.browser.name&&ce.browser.version>=7){n("Safari 7+ detected; removing track from DOM."),o=ce.media.getElementsByTagName("track");for(var c=0;c<o.length;c++)ce.media.removeChild(o[c])}}else p(ce.container,A.classes.captions.enabled)}}function O(){if("video"===ce.type&&A.fullscreen.enabled){var e=C.supportsFullScreen;e||A.fullscreen.fallback&&!q()?(n((e?"Native":"Fallback")+" fullscreen enabled."),p(ce.container,A.classes.fullscreen.enabled,!0)):n("Fullscreen not supported and fallback disabled."),A.fullscreen.hideControls&&p(ce.container,A.classes.fullscreen.hideControls,!0)}}function z(){ce.media.play()}function F(){ce.media.pause()}function j(e){!0===e?z():!1===e?F():ce.media[ce.media.paused?"play":"pause"]()}function P(e){"number"!=typeof e&&(e=A.seekTime),R(ce.media.currentTime-e)}function D(e){"number"!=typeof e&&(e=A.seekTime),R(ce.media.currentTime+e)}function R(e){var t=0;"number"==typeof e?t=e:"object"!=typeof e||"input"!==e.type&&"change"!==e.type||(t=e.target.value/e.target.max*ce.media.duration),t<0?t=0:t>ce.media.duration&&(t=ce.media.duration);try{ce.media.currentTime=t.toFixed(1)}catch(e){}n("Seeking to "+ce.media.currentTime+" seconds"),b(t)}function U(){p(ce.container,A.classes.playing,!ce.media.paused),p(ce.container,A.classes.stopped,ce.media.paused)}function W(e){function t(){p(ce.controls,A.classes.hover,!0),window.clearTimeout(o),a||(o=window.setTimeout(function(){p(ce.controls,A.classes.hover,!1)},2e3))}function n(e){a="mouseenter"===e.type}var i=C.supportsFullScreen;e&&e.type===C.fullScreenEventName?ce.isFullscreen=C.isFullScreen(ce.container):i?(C.isFullScreen(ce.container)?C.cancelFullScreen():C.requestFullScreen(ce.container),ce.isFullscreen=C.isFullScreen(ce.container)):(ce.isFullscreen=!ce.isFullscreen,ce.isFullscreen?(m(document,"keyup",V),document.body.style.overflow="hidden"):(v(document,"keyup",V),document.body.style.overflow="")),p(ce.container,A.classes.fullscreen.active,ce.isFullscreen);var o,a=!1;A.fullscreen.hideControls&&(p(ce.controls,A.classes.hover,!1),f(ce.controls,"mouseenter mouseleave",n,ce.isFullscreen),f(ce.container,"mousemove",t,ce.isFullscreen))}function V(e){27===(e.which||e.charCode||e.keyCode)&&ce.isFullscreen&&W()}function G(e){void 0===e&&(e=A.storage.enabled&&_().supported?window.localStorage[A.storage.key]||A.volume:A.volume),e>10&&(e=10),e<0&&(e=0),ce.media.volume=parseFloat(e/10),ce.media.muted&&e>0&&K()}function K(e){void 0===e&&(e=!ce.media.muted),ce.media.muted=e}function X(){var e=ce.media.muted?0:10*ce.media.volume;ce.supported.full&&ce.volume&&(ce.volume.value=e),A.storage.enabled&&_().supported&&window.localStorage.setItem(A.storage.key,e),p(ce.container,A.classes.muted,0===e),ce.supported.full&&ce.buttons.mute&&(ce.buttons.mute.checked=0===e)}function Q(e){ce.supported.full&&ce.buttons.captions&&(void 0===e&&(e=-1===ce.container.className.indexOf(A.classes.captions.active),ce.buttons.captions.checked=e),p(ce.container,A.classes.captions.active,e))}function J(e){var t="waiting"===e.type;clearTimeout(ce.loadingTimer),ce.loadingTimer=setTimeout(function(){p(ce.container,A.classes.loading,t)},t?250:0)}function Y(e){var t=ce.progress.played.bar,n=ce.progress.played.text,i=0;if(e)switch(e.type){case"timeupdate":case"seeking":i=y(ce.media.currentTime,ce.media.duration),"timeupdate"==e.type&&ce.buttons.seek&&(ce.buttons.seek.value=i);break;case"change":case"input":i=e.target.value;break;case"playing":case"progress":t=ce.progress.buffer.bar,n=ce.progress.buffer.text,i=function(){var e=ce.media.buffered;return e.length?y(e.end(0),ce.media.duration):0}()}t&&(t.value=i),n&&(n.innerHTML=i)}function Z(e,t){if(t){ce.secs=parseInt(e%60),ce.mins=parseInt(e/60%60),ce.hours=parseInt(e/60/60%60);var n=parseInt(ce.media.duration/60/60%60)>0;ce.secs=("0"+ce.secs).slice(-2),ce.mins=("0"+ce.mins).slice(-2);var i=(n?ce.hours+":":"")+ce.mins+":"+ce.secs;"[object NodeList]"==t.toString()?$.each(t,function(e){e.innerHTML=i}):t.innerHTML=i}}function ee(){var e=ce.media.duration||0;!ce.duration&&A.displayDuration&&ce.media.paused&&Z(e,ce.currentTime),ce.duration&&Z(e,ce.duration)}function te(e){Z(ce.media.currentTime,ce.currentTime),Y(e)}function ne(){for(var e=ce.media.querySelectorAll("source"),t=e.length-1;t>=0;t--)c(e[t]);ce.media.removeAttribute("src")}function ie(e){if(e.src){var t=document.createElement("source");d(t,e),u(ce.media,t)}}function oe(e){if(F(),R(),ne(),"string"==typeof e)ce.media.setAttribute("src",e);else if(e.constructor===Array)for(var t in e)ie(e[t]);ce.supported.full&&(te(),U()),ce.media.load(),null!==ce.media.getAttribute("autoplay")&&z()}function ae(e){"video"===ce.type&&ce.media.setAttribute("poster",e)}function re(){var e="IE"==ce.browser.name?"change":"input";m(ce.buttons.play,"click",function(){z(),setTimeout(function(){ce.buttons.pause.focus()},100)}),m(ce.buttons.pause,"click",function(){F(),setTimeout(function(){ce.buttons.play.focus()},100)}),m(ce.buttons.restart,"click",R),m(ce.buttons.rewind,"click",P),m(ce.buttons.forward,"click",D),m(ce.buttons.seek,e,R),m(ce.volume,e,function(){G(this.value)}),m(ce.buttons.mute,"change",function(){K(this.checked)}),m(ce.buttons.fullscreen,"click",W),C.supportsFullScreen&&m(document,C.fullScreenEventName,W),m(ce.media,"timeupdate seeking",te),m(ce.media,"timeupdate",b),m(ce.media,"loadedmetadata",ee),m(ce.buttons.captions,"change",function(){Q(this.checked)}),m(ce.media,"ended",function(){"video"===ce.type&&(ce.captionsContainer.innerHTML=""),U()}),m(ce.media,"progress",Y),m(ce.media,"playing",Y),m(ce.media,"volumechange",X),m(ce.media,"play pause",U),m(ce.media,"waiting canplay seeked",J),m(ce.checkboxes,"keyup",h),"video"===ce.type&&A.click&&m(ce.videoContainer,"click",function(){ce.media.paused?g(ce.buttons.play,"click"):ce.media.ended?(R(),g(ce.buttons.play,"click")):g(ce.buttons.pause,"click")})}function se(){if(!ce.init)return null;ce.container.setAttribute("class",A.selectors.container.replace(".","")),c(T(A.selectors.controls)),"video"===ce.type&&(c(T(A.selectors.captions)),l(ce.videoContainer)),ce.media.setAttribute("controls","");var e=ce.media.cloneNode(!0);ce.media.parentNode.replaceChild(e,ce.media),ce.init=!1}function le(){if(ce.init)return null;if(C=w(),ce.browser=i(),ce.media=ce.container.querySelectorAll("audio, video")[0],ce.type=ce.media.tagName.toLowerCase(),ce.supported=e.supported(ce.type),!ce.supported.basic)return!1;if(n(ce.browser.name+" "+ce.browser.version),B(),ce.supported.full){if(M(),!N())return!1;A.displayDuration&&ee(),H(),I(),G(),X(),O(),re()}ce.init=!0}var ce=this;return ce.container=a,le(),ce.init?{media:ce.media,play:z,pause:F,restart:R,rewind:P,forward:D,seek:R,source:oe,poster:ae,setVolume:G,togglePlay:j,toggleMute:K,toggleCaptions:Q,toggleFullscreen:W,isFullscreen:function(){return ce.isFullscreen||!1},support:function(e){return o(ce,e)},destroy:se,restore:le}:{}}var C,A,k={enabled:!0,debug:!1,seekTime:10,volume:5,click:!0,tooltips:!1,displayDuration:!0,selectors:{container:".player",controls:".player-controls",labels:"[data-player] .sr-only, label .sr-only",buttons:{seek:"[data-player='seek']",play:"[data-player='play']",pause:"[data-player='pause']",restart:"[data-player='restart']",rewind:"[data-player='rewind']",forward:"[data-player='fast-forward']",mute:"[data-player='mute']",volume:"[data-player='volume']",captions:"[data-player='captions']",fullscreen:"[data-player='fullscreen']"},progress:{container:".player-progress",buffer:".player-progress-buffer",played:".player-progress-played"},captions:".player-captions",currentTime:".player-current-time",duration:".player-duration"},classes:{video:"player-video",videoWrapper:"player-video-wrapper",audio:"player-audio",stopped:"stopped",playing:"playing",muted:"muted",loading:"loading",tooltip:"player-tooltip",hidden:"sr-only",hover:"hover",captions:{enabled:"captions-enabled",active:"captions-active"},fullscreen:{enabled:"fullscreen-enabled",active:"fullscreen-active",hideControls:"fullscreen-hide-controls"}},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,hideControls:!0},storage:{enabled:!0,key:"plyr_volume"},controls:["restart","rewind","play","fast-forward","current-time","duration","mute","volume","captions","fullscreen"],onSetup:function(){}};e.supported=function(e){var t,n,o=i(),a="IE"===o.name&&o.version<=9,r=/iPhone|iPod/i.test(navigator.userAgent),s=!!document.createElement("audio").canPlayType,l=!!document.createElement("video").canPlayType;switch(e){case"video":t=l,n=t&&!a&&!r;break;case"audio":t=s,n=t&&!a;break;default:t=s&&l,n=t&&!a}return{basic:t,full:n}},e.setup=function(t){if(A=b(k,t),!A.enabled||!e.supported().basic)return!1;for(var n=document.querySelectorAll(A.selectors.container),i=[],o=n.length-1;o>=0;o--){var a=n[o];if(void 0===a.plyr){var r=new S(a);a.plyr=!!Object.keys(r).length&&r,A.onSetup.apply(a.plyr)}i.push(a.plyr)}return i}}(this.plyr=this.plyr||{});